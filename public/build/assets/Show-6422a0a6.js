import{K as _,h as g,i as h,j as v,O as y,k as x,o as n,d as i,b as r,u as F,w as c,F as d,Z as O,f as b,t as o,a as l,g as j}from"./app-59b9daaa.js";import{_ as w}from"./AuthenticatedLayout-cbc62cb8.js";import{V as E,p as N,s as S}from"./filepond.min-7c4f3e2f.js";import{_ as V,a as $}from"./Associates-58d50a5e.js";import"./toast-03abc5d7.js";import"./DropdownLink-49a47c87.js";import"./ToastList-a0a0e15f.js";import"./_plugin-vue_export-helper-c27b6911.js";const A={class:"divide-y divide-gray-200"},B={class:"py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5"},k={class:"text-sm font-medium text-gray-500"},R={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},L={__name:"Show",props:{asset:Object,associates:Array,lease:Object},setup(e){const p=e,a=_(),u=g(()=>a.props.auth.user);h({}),E(N);let s="";return S({credits:[],required:!0,allowMultiple:!0,allowRevert:!1,acceptedFileTypes:["application/pdf"],server:{process:{url:route("assets.leases.store",p.asset),headers:{Accept:"application/json","X-CSRF-TOKEN":a.props.csrf},onerror:t=>{console.log("on error"),s=JSON.parse(t)}}},labelFileProcessingError:t=>(console.log(t),s.errors&&s.errors.upload_file?s.errors.upload_file.join(" "):s.message)}),v(()=>{Echo.private(`tenant-global-channel.${a.props.tenant_id}`).listen("FileStatusUpdate",t=>{y.reload({only:["leases"]})})}),x(()=>{u.value&&Echo.leave(`tenant-global-channel.${a.props.tenant_id}`)}),(t,T)=>(n(),i(d,null,[r(F(O),{title:"Asset"}),r(w,null,{header:c(()=>[b(" Asset - "+o(e.asset.name),1)]),default:c(()=>[r(V,{asset:e.asset},null,8,["asset"]),r($,{associates:e.associates},null,8,["associates"]),l("h3",null,o(e.lease.address),1),l("dl",A,[(n(!0),i(d,null,j(e.lease.extracted_data,(m,f)=>(n(),i("div",B,[l("dt",k,o(f),1),l("dd",R,o(m),1)]))),256))])]),_:1})],64))}};export{L as default};
