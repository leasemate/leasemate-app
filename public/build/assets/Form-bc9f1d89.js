import{o as $,d as z,C as T,a as F,H as fe,b as S,w as L,z as Q,c as N,E as ee,I as te,e as re,T as Le,r as ae,Q as Ne,j as Ge,u as M,f as me,J as Ue,n as We}from"./app-f07fe007.js";import{_ as He}from"./PrimaryButton-3c09ae56.js";import{s as qe,a as je}from"./autocomplete.esm-178636d3.js";import{_ as ge,a as q}from"./TextInput-dc52fb2a.js";import{_ as Ke}from"./DefaultForm-e5906489.js";import{_ as j}from"./InputLabel-d39bbb01.js";import{s as Me,B as De,a as Se,O as ye,D as oe}from"./ripple.esm-02b0a007.js";import{V as ze,p as Ye,s as Xe}from"./filepond.min-3d3087d2.js";import"./index.esm-fbc7d9dc.js";var Ae={name:"AngleDownIcon",extends:Me},Ze=F("path",{d:"M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z",fill:"currentColor"},null,-1),Je=[Ze];function Qe(t,e,i,n,s,r){return $(),z("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),Je,16)}Ae.render=Qe;var Te={name:"AngleUpIcon",extends:Me},et=F("path",{d:"M10.4134 9.49931C10.3148 9.49977 10.2172 9.48055 10.1262 9.44278C10.0352 9.405 9.95263 9.34942 9.88338 9.27931L6.88338 6.27931L3.88338 9.27931C3.73811 9.34946 3.57409 9.3709 3.41567 9.34044C3.25724 9.30999 3.11286 9.22926 3.00395 9.11025C2.89504 8.99124 2.82741 8.84028 2.8111 8.67978C2.79478 8.51928 2.83065 8.35781 2.91338 8.21931L6.41338 4.71931C6.55401 4.57886 6.74463 4.49997 6.94338 4.49997C7.14213 4.49997 7.33276 4.57886 7.47338 4.71931L10.9734 8.21931C11.1138 8.35994 11.1927 8.55056 11.1927 8.74931C11.1927 8.94806 11.1138 9.13868 10.9734 9.27931C10.9007 9.35315 10.8132 9.41089 10.7168 9.44879C10.6203 9.48669 10.5169 9.5039 10.4134 9.49931Z",fill:"currentColor"},null,-1),tt=[et];function it(t,e,i,n,s,r){return $(),z("svg",T({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),tt,16)}Te.render=it;var nt={root:function(e){var i=e.instance,n=e.props;return["p-inputtext p-component",{"p-filled":i.filled,"p-inputtext-sm":n.size==="small","p-inputtext-lg":n.size==="large","p-invalid":n.invalid,"p-variant-filled":n.variant?n.variant==="filled":i.$primevue.config.inputStyle==="filled"}]}},st=De.extend({name:"inputtext",classes:nt}),rt={name:"BaseInputText",extends:Se,props:{modelValue:null,size:{type:String,default:null},invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:st,provide:function(){return{$parentInstance:this}}},Pe={name:"InputText",extends:rt,inheritAttrs:!1,emits:["update:modelValue"],methods:{getPTOptions:function(e){var i=e==="root"?this.ptmi:this.ptm;return i(e,{context:{filled:this.filled,disabled:this.$attrs.disabled||this.$attrs.disabled===""}})},onInput:function(e){this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0}}},at=["value","aria-invalid"];function ot(t,e,i,n,s,r){return $(),z("input",T({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return r.onInput&&r.onInput.apply(r,arguments)})},r.getPTOptions("root")),null,16,at)}Pe.render=ot;var lt={root:function(e){var i=e.instance,n=e.props;return["p-inputnumber p-component p-inputwrapper",{"p-inputwrapper-filled":i.filled||n.allowEmpty===!1,"p-inputwrapper-focus":i.focused,"p-inputnumber-buttons-stacked":n.showButtons&&n.buttonLayout==="stacked","p-inputnumber-buttons-horizontal":n.showButtons&&n.buttonLayout==="horizontal","p-inputnumber-buttons-vertical":n.showButtons&&n.buttonLayout==="vertical","p-invalid":n.invalid}]},input:function(e){var i=e.props,n=e.instance;return["p-inputnumber-input",{"p-variant-filled":i.variant?i.variant==="filled":n.$primevue.config.inputStyle==="filled"}]},buttonGroup:"p-inputnumber-button-group",incrementButton:function(e){var i=e.instance,n=e.props;return["p-inputnumber-button p-inputnumber-button-up",{"p-disabled":n.showButtons&&n.max!==null&&i.maxBoundry()}]},decrementButton:function(e){var i=e.instance,n=e.props;return["p-inputnumber-button p-inputnumber-button-down",{"p-disabled":n.showButtons&&n.min!==null&&i.minBoundry()}]}},ut=De.extend({name:"inputnumber",classes:lt}),ct={name:"BaseInputNumber",extends:Se,props:{modelValue:{type:Number,default:null},format:{type:Boolean,default:!0},showButtons:{type:Boolean,default:!1},buttonLayout:{type:String,default:"stacked"},incrementButtonClass:{type:String,default:null},decrementButtonClass:{type:String,default:null},incrementButtonIcon:{type:String,default:void 0},decrementButtonIcon:{type:String,default:void 0},locale:{type:String,default:void 0},localeMatcher:{type:String,default:void 0},mode:{type:String,default:"decimal"},prefix:{type:String,default:null},suffix:{type:String,default:null},currency:{type:String,default:void 0},currencyDisplay:{type:String,default:void 0},useGrouping:{type:Boolean,default:!0},minFractionDigits:{type:Number,default:void 0},maxFractionDigits:{type:Number,default:void 0},roundingMode:{type:String,default:"halfExpand",validator:function(e){return["ceil","floor","expand","trunc","halfCeil","halfFloor","halfExpand","halfTrunc","halfEven"].includes(e)}},min:{type:Number,default:null},max:{type:Number,default:null},step:{type:Number,default:1},allowEmpty:{type:Boolean,default:!0},highlightOnFocus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},incrementButtonProps:{type:null,default:null},decrementButtonProps:{type:null,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:ut,provide:function(){return{$parentInstance:this}}};function Y(t){"@babel/helpers - typeof";return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(t)}function we(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),i.push.apply(i,n)}return i}function Ie(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?we(Object(i),!0).forEach(function(n){dt(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):we(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function dt(t,e,i){return e=pt(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function pt(t){var e=ht(t,"string");return Y(e)=="symbol"?e:String(e)}function ht(t,e){if(Y(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(Y(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ft(t){return wt(t)||yt(t)||gt(t)||mt()}function mt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gt(t,e){if(t){if(typeof t=="string")return ue(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ue(t,e)}}function yt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wt(t){if(Array.isArray(t))return ue(t)}function ue(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var Re={name:"InputNumber",extends:ct,inheritAttrs:!1,emits:["update:modelValue","input","focus","blur"],numberFormat:null,_numeral:null,_decimal:null,_group:null,_minusSign:null,_currency:null,_suffix:null,_prefix:null,_index:null,groupChar:"",isSpecialChar:null,prefixChar:null,suffixChar:null,timer:null,data:function(){return{d_modelValue:this.modelValue,focused:!1}},watch:{modelValue:function(e){this.d_modelValue=e},locale:function(e,i){this.updateConstructParser(e,i)},localeMatcher:function(e,i){this.updateConstructParser(e,i)},mode:function(e,i){this.updateConstructParser(e,i)},currency:function(e,i){this.updateConstructParser(e,i)},currencyDisplay:function(e,i){this.updateConstructParser(e,i)},useGrouping:function(e,i){this.updateConstructParser(e,i)},minFractionDigits:function(e,i){this.updateConstructParser(e,i)},maxFractionDigits:function(e,i){this.updateConstructParser(e,i)},suffix:function(e,i){this.updateConstructParser(e,i)},prefix:function(e,i){this.updateConstructParser(e,i)}},created:function(){this.constructParser()},methods:{getOptions:function(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits,roundingMode:this.roundingMode}},constructParser:function(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());var e=ft(new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)).reverse(),i=new Map(e.map(function(n,s){return[n,s]}));this._numeral=new RegExp("[".concat(e.join(""),"]"),"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=function(n){return i.get(n)}},updateConstructParser:function(e,i){e!==i&&this.constructParser()},escapeRegExp:function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},getDecimalExpression:function(){var e=new Intl.NumberFormat(this.locale,Ie(Ie({},this.getOptions()),{},{useGrouping:!1}));return new RegExp("[".concat(e.format(1.1).replace(this._currency,"").trim().replace(this._numeral,""),"]"),"g")},getGroupingExpression:function(){var e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp("[".concat(this.groupChar,"]"),"g")},getMinusSignExpression:function(){var e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp("[".concat(e.format(-1).trim().replace(this._numeral,""),"]"),"g")},getCurrencyExpression:function(){if(this.currency){var e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0,roundingMode:this.roundingMode});return new RegExp("[".concat(e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,""),"]"),"g")}return new RegExp("[]","g")},getPrefixExpression:function(){if(this.prefix)this.prefixChar=this.prefix;else{var e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp("".concat(this.escapeRegExp(this.prefixChar||"")),"g")},getSuffixExpression:function(){if(this.suffix)this.suffixChar=this.suffix;else{var e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0,roundingMode:this.roundingMode});this.suffixChar=e.format(1).split("1")[1]}return new RegExp("".concat(this.escapeRegExp(this.suffixChar||"")),"g")},formatValue:function(e){if(e!=null){if(e==="-")return e;if(this.format){var i=new Intl.NumberFormat(this.locale,this.getOptions()),n=i.format(e);return this.prefix&&(n=this.prefix+n),this.suffix&&(n=n+this.suffix),n}return e.toString()}return""},parseValue:function(e){var i=e.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(i){if(i==="-")return i;var n=+i;return isNaN(n)?null:n}return null},repeat:function(e,i,n){var s=this;if(!this.readonly){var r=i||500;this.clearTimer(),this.timer=setTimeout(function(){s.repeat(e,40,n)},r),this.spin(e,n)}},spin:function(e,i){if(this.$refs.input){var n=this.step*i,s=this.parseValue(this.$refs.input.$el.value)||0,r=this.validateValue(s+n);this.updateInput(r,null,"spin"),this.updateModel(e,r),this.handleOnInput(e,s,r)}},onUpButtonMouseDown:function(e){this.disabled||(this.$refs.input.$el.focus(),this.repeat(e,null,1),e.preventDefault())},onUpButtonMouseUp:function(){this.disabled||this.clearTimer()},onUpButtonMouseLeave:function(){this.disabled||this.clearTimer()},onUpButtonKeyUp:function(){this.disabled||this.clearTimer()},onUpButtonKeyDown:function(e){(e.keyCode===32||e.keyCode===13)&&this.repeat(e,null,1)},onDownButtonMouseDown:function(e){this.disabled||(this.$refs.input.$el.focus(),this.repeat(e,null,-1),e.preventDefault())},onDownButtonMouseUp:function(){this.disabled||this.clearTimer()},onDownButtonMouseLeave:function(){this.disabled||this.clearTimer()},onDownButtonKeyUp:function(){this.disabled||this.clearTimer()},onDownButtonKeyDown:function(e){(e.keyCode===32||e.keyCode===13)&&this.repeat(e,null,-1)},onUserInput:function(){this.isSpecialChar&&(this.$refs.input.$el.value=this.lastValue),this.isSpecialChar=!1},onInputKeyDown:function(e){if(!this.readonly){if(this.lastValue=e.target.value,e.shiftKey||e.altKey){this.isSpecialChar=!0;return}var i=e.target.selectionStart,n=e.target.selectionEnd,s=e.target.value,r=null;switch(e.altKey&&e.preventDefault(),e.code){case"ArrowUp":this.spin(e,1),e.preventDefault();break;case"ArrowDown":this.spin(e,-1),e.preventDefault();break;case"ArrowLeft":this.isNumeralChar(s.charAt(i-1))||e.preventDefault();break;case"ArrowRight":this.isNumeralChar(s.charAt(i))||e.preventDefault();break;case"Tab":case"Enter":case"NumpadEnter":r=this.validateValue(this.parseValue(s)),this.$refs.input.$el.value=this.formatValue(r),this.$refs.input.$el.setAttribute("aria-valuenow",r),this.updateModel(e,r);break;case"Backspace":{if(e.preventDefault(),i===n){var o=s.charAt(i-1),l=this.getDecimalCharIndexes(s),p=l.decimalCharIndex,f=l.decimalCharIndexWithoutPrefix;if(this.isNumeralChar(o)){var h=this.getDecimalLength(s);if(this._group.test(o))this._group.lastIndex=0,r=s.slice(0,i-2)+s.slice(i-1);else if(this._decimal.test(o))this._decimal.lastIndex=0,h?this.$refs.input.$el.setSelectionRange(i-1,i-1):r=s.slice(0,i-1)+s.slice(i);else if(p>0&&i>p){var u=this.isDecimalMode()&&(this.minFractionDigits||0)<h?"":"0";r=s.slice(0,i-1)+u+s.slice(i)}else f===1?(r=s.slice(0,i-1)+"0"+s.slice(i),r=this.parseValue(r)>0?r:""):r=s.slice(0,i-1)+s.slice(i)}this.updateValue(e,r,null,"delete-single")}else r=this.deleteRange(s,i,n),this.updateValue(e,r,null,"delete-range");break}case"Delete":if(e.preventDefault(),i===n){var g=s.charAt(i),y=this.getDecimalCharIndexes(s),I=y.decimalCharIndex,v=y.decimalCharIndexWithoutPrefix;if(this.isNumeralChar(g)){var d=this.getDecimalLength(s);if(this._group.test(g))this._group.lastIndex=0,r=s.slice(0,i)+s.slice(i+2);else if(this._decimal.test(g))this._decimal.lastIndex=0,d?this.$refs.input.$el.setSelectionRange(i+1,i+1):r=s.slice(0,i)+s.slice(i+1);else if(I>0&&i>I){var _=this.isDecimalMode()&&(this.minFractionDigits||0)<d?"":"0";r=s.slice(0,i)+_+s.slice(i+1)}else v===1?(r=s.slice(0,i)+"0"+s.slice(i+1),r=this.parseValue(r)>0?r:""):r=s.slice(0,i)+s.slice(i+1)}this.updateValue(e,r,null,"delete-back-single")}else r=this.deleteRange(s,i,n),this.updateValue(e,r,null,"delete-range");break;case"Home":e.preventDefault(),ye.isEmpty(this.min)||this.updateModel(e,this.min);break;case"End":e.preventDefault(),ye.isEmpty(this.max)||this.updateModel(e,this.max);break}}},onInputKeyPress:function(e){if(!this.readonly){e.preventDefault();var i=e.which||e.keyCode,n=String.fromCharCode(i),s=this.isDecimalSign(n),r=this.isMinusSign(n);(48<=i&&i<=57||r||s)&&this.insert(e,n,{isDecimalSign:s,isMinusSign:r})}},onPaste:function(e){e.preventDefault();var i=(e.clipboardData||window.clipboardData).getData("Text");if(i){var n=this.parseValue(i);n!=null&&this.insert(e,n.toString())}},allowMinusSign:function(){return this.min===null||this.min<0},isMinusSign:function(e){return this._minusSign.test(e)||e==="-"?(this._minusSign.lastIndex=0,!0):!1},isDecimalSign:function(e){return this._decimal.test(e)?(this._decimal.lastIndex=0,!0):!1},isDecimalMode:function(){return this.mode==="decimal"},getDecimalCharIndexes:function(e){var i=e.search(this._decimal);this._decimal.lastIndex=0;var n=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,""),s=n.search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:i,decimalCharIndexWithoutPrefix:s}},getCharIndexes:function(e){var i=e.search(this._decimal);this._decimal.lastIndex=0;var n=e.search(this._minusSign);this._minusSign.lastIndex=0;var s=e.search(this._suffix);this._suffix.lastIndex=0;var r=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:i,minusCharIndex:n,suffixCharIndex:s,currencyCharIndex:r}},insert:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{isDecimalSign:!1,isMinusSign:!1},s=i.search(this._minusSign);if(this._minusSign.lastIndex=0,!(!this.allowMinusSign()&&s!==-1)){var r=this.$refs.input.$el.selectionStart,o=this.$refs.input.$el.selectionEnd,l=this.$refs.input.$el.value.trim(),p=this.getCharIndexes(l),f=p.decimalCharIndex,h=p.minusCharIndex,u=p.suffixCharIndex,g=p.currencyCharIndex,y;if(n.isMinusSign)r===0&&(y=l,(h===-1||o!==0)&&(y=this.insertText(l,i,0,o)),this.updateValue(e,y,i,"insert"));else if(n.isDecimalSign)f>0&&r===f?this.updateValue(e,l,i,"insert"):f>r&&f<o?(y=this.insertText(l,i,r,o),this.updateValue(e,y,i,"insert")):f===-1&&this.maxFractionDigits&&(y=this.insertText(l,i,r,o),this.updateValue(e,y,i,"insert"));else{var I=this.numberFormat.resolvedOptions().maximumFractionDigits,v=r!==o?"range-insert":"insert";if(f>0&&r>f){if(r+i.length-(f+1)<=I){var d=g>=r?g-1:u>=r?u:l.length;y=l.slice(0,r)+i+l.slice(r+i.length,d)+l.slice(d),this.updateValue(e,y,i,v)}}else y=this.insertText(l,i,r,o),this.updateValue(e,y,i,v)}}},insertText:function(e,i,n,s){var r=i==="."?i:i.split(".");if(r.length===2){var o=e.slice(n,s).search(this._decimal);return this._decimal.lastIndex=0,o>0?e.slice(0,n)+this.formatValue(i)+e.slice(s):this.formatValue(i)||e}else return s-n===e.length?this.formatValue(i):n===0?i+e.slice(s):s===e.length?e.slice(0,n)+i:e.slice(0,n)+i+e.slice(s)},deleteRange:function(e,i,n){var s;return n-i===e.length?s="":i===0?s=e.slice(n):n===e.length?s=e.slice(0,i):s=e.slice(0,i)+e.slice(n),s},initCursor:function(){var e=this.$refs.input.$el.selectionStart,i=this.$refs.input.$el.value,n=i.length,s=null,r=(this.prefixChar||"").length;i=i.replace(this._prefix,""),e=e-r;var o=i.charAt(e);if(this.isNumeralChar(o))return e+r;for(var l=e-1;l>=0;)if(o=i.charAt(l),this.isNumeralChar(o)){s=l+r;break}else l--;if(s!==null)this.$refs.input.$el.setSelectionRange(s+1,s+1);else{for(l=e;l<n;)if(o=i.charAt(l),this.isNumeralChar(o)){s=l+r;break}else l++;s!==null&&this.$refs.input.$el.setSelectionRange(s,s)}return s||0},onInputClick:function(){var e=this.$refs.input.$el.value;!this.readonly&&e!==oe.getSelection()&&this.initCursor()},isNumeralChar:function(e){return e.length===1&&(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))?(this.resetRegex(),!0):!1},resetRegex:function(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0},updateValue:function(e,i,n,s){var r=this.$refs.input.$el.value,o=null;i!=null&&(o=this.parseValue(i),o=!o&&!this.allowEmpty?0:o,this.updateInput(o,n,s,i),this.handleOnInput(e,r,o))},handleOnInput:function(e,i,n){this.isValueChanged(i,n)&&this.$emit("input",{originalEvent:e,value:n,formattedValue:i})},isValueChanged:function(e,i){if(i===null&&e!==null)return!0;if(i!=null){var n=typeof e=="string"?this.parseValue(e):e;return i!==n}return!1},validateValue:function(e){return e==="-"||e==null?null:this.min!=null&&e<this.min?this.min:this.max!=null&&e>this.max?this.max:e},updateInput:function(e,i,n,s){i=i||"";var r=this.$refs.input.$el.value,o=this.formatValue(e),l=r.length;if(o!==s&&(o=this.concatValues(o,s)),l===0){this.$refs.input.$el.value=o,this.$refs.input.$el.setSelectionRange(0,0);var p=this.initCursor(),f=p+i.length;this.$refs.input.$el.setSelectionRange(f,f)}else{var h=this.$refs.input.$el.selectionStart,u=this.$refs.input.$el.selectionEnd;this.$refs.input.$el.value=o;var g=o.length;if(n==="range-insert"){var y=this.parseValue((r||"").slice(0,h)),I=y!==null?y.toString():"",v=I.split("").join("(".concat(this.groupChar,")?")),d=new RegExp(v,"g");d.test(o);var _=i.split("").join("(".concat(this.groupChar,")?")),a=new RegExp(_,"g");a.test(o.slice(d.lastIndex)),u=d.lastIndex+a.lastIndex,this.$refs.input.$el.setSelectionRange(u,u)}else if(g===l)if(n==="insert"||n==="delete-back-single"){var c=/[.,]/g,m=u+Number(c.test(e)||c.test(i));this.$refs.input.$el.setSelectionRange(m,m)}else n==="delete-single"?this.$refs.input.$el.setSelectionRange(u-1,u-1):(n==="delete-range"||n==="spin")&&this.$refs.input.$el.setSelectionRange(u,u);else if(n==="delete-back-single"){var w=r.charAt(u-1),x=r.charAt(u),E=l-g,C=this._group.test(x);C&&E===1?u+=1:!C&&this.isNumeralChar(w)&&(u+=-1*E+1),this._group.lastIndex=0,this.$refs.input.$el.setSelectionRange(u,u)}else if(r==="-"&&n==="insert"){this.$refs.input.$el.setSelectionRange(0,0);var b=this.initCursor(),A=b+i.length+1;this.$refs.input.$el.setSelectionRange(A,A)}else u=u+(g-l),this.$refs.input.$el.setSelectionRange(u,u)}this.$refs.input.$el.setAttribute("aria-valuenow",e)},concatValues:function(e,i){if(e&&i){var n=i.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?n!==-1?e.replace(this.suffixChar,"").split(this._decimal)[0]+i.replace(this.suffixChar,"").slice(n)+this.suffixChar:e:n!==-1?e.split(this._decimal)[0]+i.slice(n):e}return e},getDecimalLength:function(e){if(e){var i=e.split(this._decimal);if(i.length===2)return i[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0},updateModel:function(e,i){this.d_modelValue=i,this.$emit("update:modelValue",i)},onInputFocus:function(e){this.focused=!0,!this.disabled&&!this.readonly&&this.$refs.input.$el.value!==oe.getSelection()&&this.highlightOnFocus&&e.target.select(),this.$emit("focus",e)},onInputBlur:function(e){this.focused=!1;var i=e.target,n=this.validateValue(this.parseValue(i.value));this.$emit("blur",{originalEvent:e,value:i.value}),i.value=this.formatValue(n),i.setAttribute("aria-valuenow",n),this.updateModel(e,n),!this.disabled&&!this.readonly&&this.highlightOnFocus&&oe.clearSelection()},clearTimer:function(){this.timer&&clearInterval(this.timer)},maxBoundry:function(){return this.d_modelValue>=this.max},minBoundry:function(){return this.d_modelValue<=this.min}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},upButtonListeners:function(){var e=this;return{mousedown:function(n){return e.onUpButtonMouseDown(n)},mouseup:function(n){return e.onUpButtonMouseUp(n)},mouseleave:function(n){return e.onUpButtonMouseLeave(n)},keydown:function(n){return e.onUpButtonKeyDown(n)},keyup:function(n){return e.onUpButtonKeyUp(n)}}},downButtonListeners:function(){var e=this;return{mousedown:function(n){return e.onDownButtonMouseDown(n)},mouseup:function(n){return e.onDownButtonMouseUp(n)},mouseleave:function(n){return e.onDownButtonMouseLeave(n)},keydown:function(n){return e.onDownButtonKeyDown(n)},keyup:function(n){return e.onDownButtonKeyUp(n)}}},formattedValue:function(){var e=!this.modelValue&&!this.allowEmpty?0:this.modelValue;return this.formatValue(e)},getFormatter:function(){return this.numberFormat}},components:{INInputText:Pe,INButton:qe,AngleUpIcon:Te,AngleDownIcon:Ae}};function It(t,e,i,n,s,r){var o=fe("INInputText"),l=fe("INButton");return $(),z("span",T({class:t.cx("root")},t.ptmi("root")),[S(o,T({ref:"input",id:t.inputId,role:"spinbutton",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:r.formattedValue,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":t.modelValue,disabled:t.disabled,readonly:t.readonly,placeholder:t.placeholder,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onInput:r.onUserInput,onKeydown:r.onInputKeyDown,onKeypress:r.onInputKeyPress,onPaste:r.onPaste,onClick:r.onInputClick,onFocus:r.onInputFocus,onBlur:r.onInputBlur},t.inputProps,{pt:t.ptm("input"),unstyled:t.unstyled}),null,16,["id","class","style","value","aria-valuemin","aria-valuemax","aria-valuenow","disabled","readonly","placeholder","aria-labelledby","aria-label","aria-invalid","onInput","onKeydown","onKeypress","onPaste","onClick","onFocus","onBlur","pt","unstyled"]),t.showButtons&&t.buttonLayout==="stacked"?($(),z("span",T({key:0,class:t.cx("buttonGroup")},t.ptm("buttonGroup")),[S(l,T({class:[t.cx("incrementButton"),t.incrementButtonClass]},te(r.upButtonListeners),{disabled:t.disabled,tabindex:-1,"aria-hidden":"true"},t.incrementButtonProps,{pt:t.ptm("incrementButton"),unstyled:t.unstyled}),{icon:L(function(){return[Q(t.$slots,"incrementbuttonicon",{},function(){return[($(),N(ee(t.incrementButtonIcon?"span":"AngleUpIcon"),T({class:t.incrementButtonIcon},t.ptm("incrementButton").icon,{"data-pc-section":"incrementbuttonicon"}),null,16,["class"]))]})]}),_:3},16,["class","disabled","pt","unstyled"]),S(l,T({class:[t.cx("decrementButton"),t.decrementButtonClass]},te(r.downButtonListeners),{disabled:t.disabled,tabindex:-1,"aria-hidden":"true"},t.decrementButtonProps,{pt:t.ptm("decrementButton"),unstyled:t.unstyled}),{icon:L(function(){return[Q(t.$slots,"decrementbuttonicon",{},function(){return[($(),N(ee(t.decrementButtonIcon?"span":"AngleDownIcon"),T({class:t.decrementButtonIcon},t.ptm("decrementButton").icon,{"data-pc-section":"decrementbuttonicon"}),null,16,["class"]))]})]}),_:3},16,["class","disabled","pt","unstyled"])],16)):re("",!0),t.showButtons&&t.buttonLayout!=="stacked"?($(),N(l,T({key:1,class:[t.cx("incrementButton"),t.incrementButtonClass]},te(r.upButtonListeners),{disabled:t.disabled,tabindex:-1,"aria-hidden":"true"},t.incrementButtonProps,{pt:t.ptm("incrementButton"),unstyled:t.unstyled}),{icon:L(function(){return[Q(t.$slots,"incrementbuttonicon",{},function(){return[($(),N(ee(t.incrementButtonIcon?"span":"AngleUpIcon"),T({class:t.incrementButtonIcon},t.ptm("incrementButton").icon,{"data-pc-section":"incrementbuttonicon"}),null,16,["class"]))]})]}),_:3},16,["class","disabled","pt","unstyled"])):re("",!0),t.showButtons&&t.buttonLayout!=="stacked"?($(),N(l,T({key:2,class:[t.cx("decrementButton"),t.decrementButtonClass]},te(r.downButtonListeners),{disabled:t.disabled,tabindex:-1,"aria-hidden":"true"},t.decrementButtonProps,{pt:t.ptm("decrementButton"),unstyled:t.unstyled}),{icon:L(function(){return[Q(t.$slots,"decrementbuttonicon",{},function(){return[($(),N(ee(t.decrementButtonIcon?"span":"AngleDownIcon"),T({class:t.decrementButtonIcon},t.ptm("decrementButton").icon,{"data-pc-section":"decrementbuttonicon"}),null,16,["class"]))]})]}),_:3},16,["class","disabled","pt","unstyled"])):re("",!0)],16)}Re.render=It;/*!
 * FilePondPluginImagePreview 4.6.12
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const vt=t=>/^image/.test(t.type),ve=(t,e)=>X(t.x*e,t.y*e),xe=(t,e)=>X(t.x+e.x,t.y+e.y),xt=t=>{const e=Math.sqrt(t.x*t.x+t.y*t.y);return e===0?{x:0,y:0}:X(t.x/e,t.y/e)},ie=(t,e,i)=>{const n=Math.cos(e),s=Math.sin(e),r=X(t.x-i.x,t.y-i.y);return X(i.x+n*r.x-s*r.y,i.y+s*r.x+n*r.y)},X=(t=0,e=0)=>({x:t,y:e}),P=(t,e,i=1,n)=>{if(typeof t=="string")return parseFloat(t)*i;if(typeof t=="number")return t*(n?e[n]:Math.min(e.width,e.height))},Et=(t,e,i)=>{const n=t.borderStyle||t.lineStyle||"solid",s=t.backgroundColor||t.fontColor||"transparent",r=t.borderColor||t.lineColor||"transparent",o=P(t.borderWidth||t.lineWidth,e,i),l=t.lineCap||"round",p=t.lineJoin||"round",f=typeof n=="string"?"":n.map(u=>P(u,e,i)).join(","),h=t.opacity||1;return{"stroke-linecap":l,"stroke-linejoin":p,"stroke-width":o||0,"stroke-dasharray":f,stroke:r,fill:s,opacity:h}},B=t=>t!=null,_t=(t,e,i=1)=>{let n=P(t.x,e,i,"width")||P(t.left,e,i,"width"),s=P(t.y,e,i,"height")||P(t.top,e,i,"height"),r=P(t.width,e,i,"width"),o=P(t.height,e,i,"height"),l=P(t.right,e,i,"width"),p=P(t.bottom,e,i,"height");return B(s)||(B(o)&&B(p)?s=e.height-o-p:s=p),B(n)||(B(r)&&B(l)?n=e.width-r-l:n=l),B(r)||(B(n)&&B(l)?r=e.width-n-l:r=0),B(o)||(B(s)&&B(p)?o=e.height-s-p:o=0),{x:n||0,y:s||0,width:r||0,height:o||0}},bt=t=>t.map((e,i)=>`${i===0?"M":"L"} ${e.x} ${e.y}`).join(" "),k=(t,e)=>Object.keys(e).forEach(i=>t.setAttribute(i,e[i])),Ct="http://www.w3.org/2000/svg",U=(t,e)=>{const i=document.createElementNS(Ct,t);return e&&k(i,e),i},Mt=t=>k(t,{...t.rect,...t.styles}),Dt=t=>{const e=t.rect.x+t.rect.width*.5,i=t.rect.y+t.rect.height*.5,n=t.rect.width*.5,s=t.rect.height*.5;return k(t,{cx:e,cy:i,rx:n,ry:s,...t.styles})},St={contain:"xMidYMid meet",cover:"xMidYMid slice"},At=(t,e)=>{k(t,{...t.rect,...t.styles,preserveAspectRatio:St[e.fit]||"none"})},Tt={left:"start",center:"middle",right:"end"},Pt=(t,e,i,n)=>{const s=P(e.fontSize,i,n),r=e.fontFamily||"sans-serif",o=e.fontWeight||"normal",l=Tt[e.textAlign]||"start";k(t,{...t.rect,...t.styles,"stroke-width":0,"font-weight":o,"font-size":s,"font-family":r,"text-anchor":l}),t.text!==e.text&&(t.text=e.text,t.textContent=e.text.length?e.text:" ")},Rt=(t,e,i,n)=>{k(t,{...t.rect,...t.styles,fill:"none"});const s=t.childNodes[0],r=t.childNodes[1],o=t.childNodes[2],l=t.rect,p={x:t.rect.x+t.rect.width,y:t.rect.y+t.rect.height};if(k(s,{x1:l.x,y1:l.y,x2:p.x,y2:p.y}),!e.lineDecoration)return;r.style.display="none",o.style.display="none";const f=xt({x:p.x-l.x,y:p.y-l.y}),h=P(.05,i,n);if(e.lineDecoration.indexOf("arrow-begin")!==-1){const u=ve(f,h),g=xe(l,u),y=ie(l,2,g),I=ie(l,-2,g);k(r,{style:"display:block;",d:`M${y.x},${y.y} L${l.x},${l.y} L${I.x},${I.y}`})}if(e.lineDecoration.indexOf("arrow-end")!==-1){const u=ve(f,-h),g=xe(p,u),y=ie(p,2,g),I=ie(p,-2,g);k(o,{style:"display:block;",d:`M${y.x},${y.y} L${p.x},${p.y} L${I.x},${I.y}`})}},Vt=(t,e,i,n)=>{k(t,{...t.styles,fill:"none",d:bt(e.points.map(s=>({x:P(s.x,i,n,"width"),y:P(s.y,i,n,"height")})))})},ne=t=>e=>U(t,{id:e.id}),Bt=t=>{const e=U("image",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return e.onload=()=>{e.setAttribute("opacity",t.opacity||1)},e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.src),e},$t=t=>{const e=U("g",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round"}),i=U("line");e.appendChild(i);const n=U("path");e.appendChild(n);const s=U("path");return e.appendChild(s),e},Ot={image:Bt,rect:ne("rect"),ellipse:ne("ellipse"),text:ne("text"),path:ne("path"),line:$t},kt={rect:Mt,ellipse:Dt,image:At,text:Pt,path:Vt,line:Rt},Ft=(t,e)=>Ot[t](e),Lt=(t,e,i,n,s)=>{e!=="path"&&(t.rect=_t(i,n,s)),t.styles=Et(i,n,s),kt[e](t,i,n,s)},Nt=["x","y","left","top","right","bottom","width","height"],Gt=t=>typeof t=="string"&&/%/.test(t)?parseFloat(t)/100:t,Ut=t=>{const[e,i]=t,n=i.points?{}:Nt.reduce((s,r)=>(s[r]=Gt(i[r]),s),{});return[e,{zIndex:0,...i,...n}]},Wt=(t,e)=>t[1].zIndex>e[1].zIndex?1:t[1].zIndex<e[1].zIndex?-1:0,Ht=t=>t.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:({root:e,props:i})=>{if(!i.dirty)return;const{crop:n,resize:s,markup:r}=i,o=i.width,l=i.height;let p=n.width,f=n.height;if(s){const{size:y}=s;let I=y&&y.width,v=y&&y.height;const d=s.mode,_=s.upscale;I&&!v&&(v=I),v&&!I&&(I=v);const a=p<I&&f<v;if(!a||a&&_){let c=I/p,m=v/f;if(d==="force")p=I,f=v;else{let w;d==="cover"?w=Math.max(c,m):d==="contain"&&(w=Math.min(c,m)),p=p*w,f=f*w}}}const h={width:o,height:l};e.element.setAttribute("width",h.width),e.element.setAttribute("height",h.height);const u=Math.min(o/p,l/f);e.element.innerHTML="";const g=e.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");r.filter(g).map(Ut).sort(Wt).forEach(y=>{const[I,v]=y,d=Ft(I,v);Lt(d,I,v,h,u),e.element.appendChild(d)})}}),K=(t,e)=>({x:t,y:e}),qt=(t,e)=>t.x*e.x+t.y*e.y,Ee=(t,e)=>K(t.x-e.x,t.y-e.y),jt=(t,e)=>qt(Ee(t,e),Ee(t,e)),_e=(t,e)=>Math.sqrt(jt(t,e)),be=(t,e)=>{const i=t,n=1.5707963267948966,s=e,r=1.5707963267948966-e,o=Math.sin(n),l=Math.sin(s),p=Math.sin(r),f=Math.cos(r),h=i/o,u=h*l,g=h*p;return K(f*u,f*g)},Kt=(t,e)=>{const i=t.width,n=t.height,s=be(i,e),r=be(n,e),o=K(t.x+Math.abs(s.x),t.y-Math.abs(s.y)),l=K(t.x+t.width+Math.abs(r.y),t.y+Math.abs(r.x)),p=K(t.x-Math.abs(r.y),t.y+t.height-Math.abs(r.x));return{width:_e(o,l),height:_e(o,p)}},zt=(t,e,i=1)=>{const n=t.height/t.width;let s=1,r=e,o=1,l=n;l>r&&(l=r,o=l/n);const p=Math.max(s/o,r/l),f=t.width/(i*p*o),h=f*e;return{width:f,height:h}},Ve=(t,e,i,n)=>{const s=n.x>.5?1-n.x:n.x,r=n.y>.5?1-n.y:n.y,o=s*2*t.width,l=r*2*t.height,p=Kt(e,i);return Math.max(p.width/o,p.height/l)},Be=(t,e)=>{let i=t.width,n=i*e;n>t.height&&(n=t.height,i=n/e);const s=(t.width-i)*.5,r=(t.height-n)*.5;return{x:s,y:r,width:i,height:n}},Yt=(t,e={})=>{let{zoom:i,rotation:n,center:s,aspectRatio:r}=e;r||(r=t.height/t.width);const o=zt(t,r,i),l={x:o.width*.5,y:o.height*.5},p={x:0,y:0,width:o.width,height:o.height,center:l},f=typeof e.scaleToFit>"u"||e.scaleToFit,h=Ve(t,Be(p,r),n,f?s:{x:.5,y:.5}),u=i*h;return{widthFloat:o.width/u,heightFloat:o.height/u,width:Math.round(o.width/u),height:Math.round(o.height/u)}},O={type:"spring",stiffness:.5,damping:.45,mass:10},Xt=t=>t.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:({root:e,props:i})=>{e.appendChild(i.image)}}),Zt=t=>t.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:O,originY:O,scaleX:O,scaleY:O,translateX:O,translateY:O,rotateZ:O}},create:({root:e,props:i})=>{i.width=i.image.width,i.height=i.image.height,e.ref.bitmap=e.appendChildView(e.createChildView(Xt(t),{image:i.image}))},write:({root:e,props:i})=>{const{flip:n}=i.crop,{bitmap:s}=e.ref;s.scaleX=n.horizontal?-1:1,s.scaleY=n.vertical?-1:1}}),Jt=t=>t.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function({root:e,props:i}){i.background&&(e.element.style.backgroundColor=i.background)},create:({root:e,props:i})=>{e.ref.image=e.appendChildView(e.createChildView(Zt(t),Object.assign({},i))),e.ref.createMarkup=()=>{e.ref.markup||(e.ref.markup=e.appendChildView(e.createChildView(Ht(t),Object.assign({},i))))},e.ref.destroyMarkup=()=>{e.ref.markup&&(e.removeChildView(e.ref.markup),e.ref.markup=null)};const n=e.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");n!==null&&(n==="grid"?e.element.dataset.transparencyIndicator=n:e.element.dataset.transparencyIndicator="color")},write:({root:e,props:i,shouldOptimize:n})=>{const{crop:s,markup:r,resize:o,dirty:l,width:p,height:f}=i;e.ref.image.crop=s;const h={x:0,y:0,width:p,height:f,center:{x:p*.5,y:f*.5}},u={width:e.ref.image.width,height:e.ref.image.height},g={x:s.center.x*u.width,y:s.center.y*u.height},y={x:h.center.x-u.width*s.center.x,y:h.center.y-u.height*s.center.y},I=Math.PI*2+s.rotation%(Math.PI*2),v=s.aspectRatio||u.height/u.width,d=typeof s.scaleToFit>"u"||s.scaleToFit,_=Ve(u,Be(h,v),I,d?s.center:{x:.5,y:.5}),a=s.zoom*_;r&&r.length?(e.ref.createMarkup(),e.ref.markup.width=p,e.ref.markup.height=f,e.ref.markup.resize=o,e.ref.markup.dirty=l,e.ref.markup.markup=r,e.ref.markup.crop=Yt(u,s)):e.ref.markup&&e.ref.destroyMarkup();const c=e.ref.image;if(n){c.originX=null,c.originY=null,c.translateX=null,c.translateY=null,c.rotateZ=null,c.scaleX=null,c.scaleY=null;return}c.originX=g.x,c.originY=g.y,c.translateX=y.x,c.translateY=y.y,c.rotateZ=I,c.scaleX=a,c.scaleY=a}}),Qt=t=>t.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:O,scaleY:O,translateY:O,opacity:{type:"tween",duration:400}}},create:({root:e,props:i})=>{e.ref.clip=e.appendChildView(e.createChildView(Jt(t),{id:i.id,image:i.image,crop:i.crop,markup:i.markup,resize:i.resize,dirty:i.dirty,background:i.background}))},write:({root:e,props:i,shouldOptimize:n})=>{const{clip:s}=e.ref,{image:r,crop:o,markup:l,resize:p,dirty:f}=i;if(s.crop=o,s.markup=l,s.resize=p,s.dirty=f,s.opacity=n?0:1,n||e.rect.element.hidden)return;const h=r.height/r.width;let u=o.aspectRatio||h;const g=e.rect.inner.width,y=e.rect.inner.height;let I=e.query("GET_IMAGE_PREVIEW_HEIGHT");const v=e.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),d=e.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),_=e.query("GET_PANEL_ASPECT_RATIO"),a=e.query("GET_ALLOW_MULTIPLE");_&&!a&&(I=g*_,u=_);let c=I!==null?I:Math.max(v,Math.min(g*u,d)),m=c/u;m>g&&(m=g,c=m*u),c>y&&(c=y,m=y/u),s.width=m,s.height=c}});let ei=`<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">
    <defs>
        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">
            <stop offset='50%' stop-color='#000000'/>
            <stop offset='56%' stop-color='#0a0a0a'/>
            <stop offset='63%' stop-color='#262626'/>
            <stop offset='69%' stop-color='#4f4f4f'/>
            <stop offset='75%' stop-color='#808080'/>
            <stop offset='81%' stop-color='#b1b1b1'/>
            <stop offset='88%' stop-color='#dadada'/>
            <stop offset='94%' stop-color='#f6f6f6'/>
            <stop offset='100%' stop-color='#ffffff'/>
        </radialGradient>
        <mask id="mask-__UID__">
            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>
        </mask>
    </defs>
    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>
</svg>`,Ce=0;const ti=t=>t.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:({root:e,props:i})=>{let n=ei;if(document.querySelector("base")){const s=new URL(window.location.href.replace(window.location.hash,"")).href;n=n.replace(/url\(\#/g,"url("+s+"#")}Ce++,e.element.classList.add(`filepond--image-preview-overlay-${i.status}`),e.element.innerHTML=n.replace(/__UID__/g,Ce)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),ii=function(){self.onmessage=t=>{createImageBitmap(t.data.message.file).then(e=>{self.postMessage({id:t.data.id,message:e},[e])})}},ni=function(){self.onmessage=t=>{const e=t.data.message.imageData,i=t.data.message.colorMatrix,n=e.data,s=n.length,r=i[0],o=i[1],l=i[2],p=i[3],f=i[4],h=i[5],u=i[6],g=i[7],y=i[8],I=i[9],v=i[10],d=i[11],_=i[12],a=i[13],c=i[14],m=i[15],w=i[16],x=i[17],E=i[18],C=i[19];let b=0,A=0,R=0,D=0,V=0;for(;b<s;b+=4)A=n[b]/255,R=n[b+1]/255,D=n[b+2]/255,V=n[b+3]/255,n[b]=Math.max(0,Math.min((A*r+R*o+D*l+V*p+f)*255,255)),n[b+1]=Math.max(0,Math.min((A*h+R*u+D*g+V*y+I)*255,255)),n[b+2]=Math.max(0,Math.min((A*v+R*d+D*_+V*a+c)*255,255)),n[b+3]=Math.max(0,Math.min((A*m+R*w+D*x+V*E+C)*255,255));self.postMessage({id:t.data.id,message:e},[e.data.buffer])}},si=(t,e)=>{let i=new Image;i.onload=()=>{const n=i.naturalWidth,s=i.naturalHeight;i=null,e(n,s)},i.src=t},ri={1:()=>[1,0,0,1,0,0],2:t=>[-1,0,0,1,t,0],3:(t,e)=>[-1,0,0,-1,t,e],4:(t,e)=>[1,0,0,-1,0,e],5:()=>[0,1,1,0,0,0],6:(t,e)=>[0,1,-1,0,e,0],7:(t,e)=>[0,-1,-1,0,e,t],8:t=>[0,-1,1,0,0,t]},ai=(t,e,i,n)=>{n!==-1&&t.transform.apply(t,ri[n](e,i))},oi=(t,e,i,n)=>{e=Math.round(e),i=Math.round(i);const s=document.createElement("canvas");s.width=e,s.height=i;const r=s.getContext("2d");return n>=5&&n<=8&&([e,i]=[i,e]),ai(r,e,i,n),r.drawImage(t,0,0,e,i),s},$e=t=>/^image/.test(t.type)&&!/svg/.test(t.type),li=10,ui=10,ci=t=>{const e=Math.min(li/t.width,ui/t.height),i=document.createElement("canvas"),n=i.getContext("2d"),s=i.width=Math.ceil(t.width*e),r=i.height=Math.ceil(t.height*e);n.drawImage(t,0,0,s,r);let o=null;try{o=n.getImageData(0,0,s,r).data}catch{return null}const l=o.length;let p=0,f=0,h=0,u=0;for(;u<l;u+=4)p+=o[u]*o[u],f+=o[u+1]*o[u+1],h+=o[u+2]*o[u+2];return p=le(p,l),f=le(f,l),h=le(h,l),{r:p,g:f,b:h}},le=(t,e)=>Math.floor(Math.sqrt(t/(e/4))),di=(t,e)=>(e=e||document.createElement("canvas"),e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0),e),pi=t=>{let e;try{e=new ImageData(t.width,t.height)}catch{e=document.createElement("canvas").getContext("2d").createImageData(t.width,t.height)}return e.data.set(new Uint8ClampedArray(t.data)),e},hi=t=>new Promise((e,i)=>{const n=new Image;n.crossOrigin="Anonymous",n.onload=()=>{e(n)},n.onerror=s=>{i(s)},n.src=t}),fi=t=>{const e=ti(t),i=Qt(t),{createWorker:n}=t.utils,s=(a,c,m)=>new Promise(w=>{a.ref.imageData||(a.ref.imageData=m.getContext("2d").getImageData(0,0,m.width,m.height));const x=pi(a.ref.imageData);if(!c||c.length!==20)return m.getContext("2d").putImageData(x,0,0),w();const E=n(ni);E.post({imageData:x,colorMatrix:c},C=>{m.getContext("2d").putImageData(C,0,0),E.terminate(),w()},[x.data.buffer])}),r=(a,c)=>{a.removeChildView(c),c.image.width=1,c.image.height=1,c._destroy()},o=({root:a})=>{const c=a.ref.images.shift();return c.opacity=0,c.translateY=-15,a.ref.imageViewBin.push(c),c},l=({root:a,props:c,image:m})=>{const w=c.id,x=a.query("GET_ITEM",{id:w});if(!x)return;const E=x.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},C=a.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR");let b,A,R=!1;a.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(b=x.getMetadata("markup")||[],A=x.getMetadata("resize"),R=!0);const D=a.appendChildView(a.createChildView(i,{id:w,image:m,crop:E,resize:A,markup:b,dirty:R,background:C,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),a.childViews.length);a.ref.images.push(D),D.opacity=1,D.scaleX=1,D.scaleY=1,D.translateY=0,setTimeout(()=>{a.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:w})},250)},p=({root:a,props:c})=>{const m=a.query("GET_ITEM",{id:c.id});if(!m)return;const w=a.ref.images[a.ref.images.length-1];w.crop=m.getMetadata("crop"),w.background=a.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),a.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(w.dirty=!0,w.resize=m.getMetadata("resize"),w.markup=m.getMetadata("markup"))},f=({root:a,props:c,action:m})=>{if(!/crop|filter|markup|resize/.test(m.change.key)||!a.ref.images.length)return;const w=a.query("GET_ITEM",{id:c.id});if(w){if(/filter/.test(m.change.key)){const x=a.ref.images[a.ref.images.length-1];s(a,m.change.value,x.image);return}if(/crop|markup|resize/.test(m.change.key)){const x=w.getMetadata("crop"),E=a.ref.images[a.ref.images.length-1];if(x&&x.aspectRatio&&E.crop&&E.crop.aspectRatio&&Math.abs(x.aspectRatio-E.crop.aspectRatio)>1e-5){const C=o({root:a});l({root:a,props:c,image:di(C.image)})}else p({root:a,props:c})}}},h=a=>{const m=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./),w=m?parseInt(m[1]):null;return w!==null&&w<=58?!1:"createImageBitmap"in window&&$e(a)},u=({root:a,props:c})=>{const{id:m}=c,w=a.query("GET_ITEM",m);if(!w)return;const x=URL.createObjectURL(w.file);si(x,(E,C)=>{a.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:m,width:E,height:C})})},g=({root:a,props:c})=>{const{id:m}=c,w=a.query("GET_ITEM",m);if(!w)return;const x=URL.createObjectURL(w.file),E=()=>{hi(x).then(C)},C=b=>{URL.revokeObjectURL(x);const R=(w.getMetadata("exif")||{}).orientation||-1;let{width:D,height:V}=b;if(!D||!V)return;R>=5&&R<=8&&([D,V]=[V,D]);const se=Math.max(1,window.devicePixelRatio*.75),Z=a.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*se,G=V/D,W=a.rect.element.width,ke=a.rect.element.height;let H=W,J=H*G;G>1?(H=Math.min(D,W*Z),J=H*G):(J=Math.min(V,ke*Z),H=J/G);const de=oi(b,H,J,R),pe=()=>{const Fe=a.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?ci(data):null;w.setMetadata("color",Fe,!0),"close"in b&&b.close(),a.ref.overlayShadow.opacity=1,l({root:a,props:c,image:de})},he=w.getMetadata("filter");he?s(a,he,de).then(pe):pe()};if(h(w.file)){const b=n(ii);b.post({file:w.file},A=>{if(b.terminate(),!A){E();return}C(A)})}else E()},y=({root:a})=>{const c=a.ref.images[a.ref.images.length-1];c.translateY=0,c.scaleX=1,c.scaleY=1,c.opacity=1},I=({root:a})=>{a.ref.overlayShadow.opacity=1,a.ref.overlayError.opacity=0,a.ref.overlaySuccess.opacity=0},v=({root:a})=>{a.ref.overlayShadow.opacity=.25,a.ref.overlayError.opacity=1},d=({root:a})=>{a.ref.overlayShadow.opacity=.25,a.ref.overlaySuccess.opacity=1},_=({root:a})=>{a.ref.images=[],a.ref.imageData=null,a.ref.imageViewBin=[],a.ref.overlayShadow=a.appendChildView(a.createChildView(e,{opacity:0,status:"idle"})),a.ref.overlaySuccess=a.appendChildView(a.createChildView(e,{opacity:0,status:"success"})),a.ref.overlayError=a.appendChildView(a.createChildView(e,{opacity:0,status:"failure"}))};return t.utils.createView({name:"image-preview-wrapper",create:_,styles:["height"],apis:["height"],destroy:({root:a})=>{a.ref.images.forEach(c=>{c.image.width=1,c.image.height=1})},didWriteView:({root:a})=>{a.ref.images.forEach(c=>{c.dirty=!1})},write:t.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:y,DID_IMAGE_PREVIEW_CONTAINER_CREATE:u,DID_FINISH_CALCULATE_PREVIEWSIZE:g,DID_UPDATE_ITEM_METADATA:f,DID_THROW_ITEM_LOAD_ERROR:v,DID_THROW_ITEM_PROCESSING_ERROR:v,DID_THROW_ITEM_INVALID:v,DID_COMPLETE_ITEM_PROCESSING:d,DID_START_ITEM_PROCESSING:I,DID_REVERT_ITEM_PROCESSING:I},({root:a})=>{const c=a.ref.imageViewBin.filter(m=>m.opacity===0);a.ref.imageViewBin=a.ref.imageViewBin.filter(m=>m.opacity>0),c.forEach(m=>r(a,m)),c.length=0})})},Oe=t=>{const{addFilter:e,utils:i}=t,{Type:n,createRoute:s,isFile:r}=i,o=fi(t);return e("CREATE_VIEW",l=>{const{is:p,view:f,query:h}=l;if(!p("file")||!h("GET_ALLOW_IMAGE_PREVIEW"))return;const u=({root:d,props:_})=>{const{id:a}=_,c=h("GET_ITEM",a);if(!c||!r(c.file)||c.archived)return;const m=c.file;if(!vt(m)||!h("GET_IMAGE_PREVIEW_FILTER_ITEM")(c))return;const w="createImageBitmap"in(window||{}),x=h("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!w&&x&&m.size>x)return;d.ref.imagePreview=f.appendChildView(f.createChildView(o,{id:a}));const E=d.query("GET_IMAGE_PREVIEW_HEIGHT");E&&d.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:c.id,height:E});const C=!w&&m.size>h("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");d.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:a},C)},g=(d,_)=>{if(!d.ref.imagePreview)return;let{id:a}=_;const c=d.query("GET_ITEM",{id:a});if(!c)return;const m=d.query("GET_PANEL_ASPECT_RATIO"),w=d.query("GET_ITEM_PANEL_ASPECT_RATIO"),x=d.query("GET_IMAGE_PREVIEW_HEIGHT");if(m||w||x)return;let{imageWidth:E,imageHeight:C}=d.ref;if(!E||!C)return;const b=d.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),A=d.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),D=(c.getMetadata("exif")||{}).orientation||-1;if(D>=5&&D<=8&&([E,C]=[C,E]),!$e(c.file)||d.query("GET_IMAGE_PREVIEW_UPSCALE")){const W=2048/E;E*=W,C*=W}const V=C/E,se=(c.getMetadata("crop")||{}).aspectRatio||V;let ce=Math.max(b,Math.min(C,A));const Z=d.rect.element.width,G=Math.min(Z*se,ce);d.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:c.id,height:G})},y=({root:d})=>{d.ref.shouldRescale=!0},I=({root:d,action:_})=>{_.change.key==="crop"&&(d.ref.shouldRescale=!0)},v=({root:d,action:_})=>{d.ref.imageWidth=_.width,d.ref.imageHeight=_.height,d.ref.shouldRescale=!0,d.ref.shouldDrawPreview=!0,d.dispatch("KICK")};f.registerWriter(s({DID_RESIZE_ROOT:y,DID_STOP_RESIZE:y,DID_LOAD_ITEM:u,DID_IMAGE_PREVIEW_CALCULATE_SIZE:v,DID_UPDATE_ITEM_METADATA:I},({root:d,props:_})=>{d.ref.imagePreview&&(d.rect.element.hidden||(d.ref.shouldRescale&&(g(d,_),d.ref.shouldRescale=!1),d.ref.shouldDrawPreview&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{d.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:_.id})})}),d.ref.shouldDrawPreview=!1)))}))}),{options:{allowImagePreview:[!0,n.BOOLEAN],imagePreviewFilterItem:[()=>!0,n.FUNCTION],imagePreviewHeight:[null,n.INT],imagePreviewMinHeight:[44,n.INT],imagePreviewMaxHeight:[256,n.INT],imagePreviewMaxFileSize:[null,n.INT],imagePreviewZoomFactor:[2,n.INT],imagePreviewUpscale:[!1,n.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,n.INT],imagePreviewTransparencyIndicator:[null,n.STRING],imagePreviewCalculateAverageImageColor:[!1,n.BOOLEAN],imagePreviewMarkupShow:[!0,n.BOOLEAN],imagePreviewMarkupFilter:[()=>!0,n.FUNCTION]}}},mi=typeof window<"u"&&typeof window.document<"u";mi&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Oe}));const gi={class:"col-span-12 sm:col-span-12"},yi={class:"col-span-12 sm:col-span-12"},wi={class:"col-span-12 sm:col-span-12"},Ii={class:"col-span-12 sm:col-span-12"},vi=F("div",{class:"text-sm text-gray-200 mt-0.5"},"Asset Managers, Property Managers, Leasing Agents",-1),xi={class:"col-span-12 sm:col-span-12"},Ei={class:"space-x-3"},Ri={__name:"Form",props:{asset:{type:Object,default:()=>({name:"",address:"",gross_leasable_area:null,asset_photo:null,asset_photo_url:null,photo_filename:null})},associates:{type:Array,default:()=>[]}},setup(t){const e=ze(Ye,Oe),i=t,n=Le({...i.asset,users:i.associates}),s=ae([]),r=h=>{axios.get(route("users.search"),{params:{q:h.query}}).then(u=>{s.value=u.data.filter(g=>!n.users.some(y=>y.id===g.id))})},o=ae(null);let l="";Xe({server:{load:(h,u,g,y,I,v)=>{if(i.asset.asset_photo_url)return fetch(route("assets.load-photo",i.asset)).then(d=>{if(d.ok)return d.blob();throw new Error("Network response was not ok.")}).then(d=>{u(d)}).catch(d=>{g(d.message)}),{abort:()=>{}}},process:{url:route("assets.photo-upload"),method:"POST",headers:{Accept:"application/json","X-CSRF-TOKEN":Ne().props.csrf},onload:h=>{l=JSON.parse(h),n.asset_photo=l.asset_photo_path,n.photo_filename=l.photo_filename},onerror:h=>{l=JSON.parse(h),console.error(l)}}},labelFileProcessingError:h=>l.errors&&l.errors.asset_photo?l.errors.asset_photo.join(" "):l.message});const p=()=>{n.processing=!0,o.value.processFiles().then(h=>{n.id?n.put(route("assets.update",n.id),{errorBag:"updateAsset",preserveScroll:!0}):n.post(route("assets.store"),{errorBag:"createAsset",preserveScroll:!0,onSuccess:()=>{},onError:u=>{n.processing=!1,console.log(u)}})}).catch(h=>{n.processing=!1,console.log("File processing error",h)})},f=ae([]);return Ge(()=>{i.asset.asset_photo&&(f.value=[{source:i.asset.photo_filename??"--",options:{type:"local"}}])}),(h,u)=>($(),N(Ke,{onSubmitted:p},{form:L(()=>[F("div",gi,[S(j,{for:"name",value:"Name"}),S(ge,{id:"name",modelValue:M(n).name,"onUpdate:modelValue":u[0]||(u[0]=g=>M(n).name=g),onFocus:u[1]||(u[1]=g=>M(n).clearErrors()),type:"text",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),S(q,{message:M(n).errors.name,class:"mt-2"},null,8,["message"])]),F("div",yi,[S(j,{for:"address",value:"Address"}),S(ge,{id:"address",modelValue:M(n).address,"onUpdate:modelValue":u[2]||(u[2]=g=>M(n).address=g),onFocus:u[3]||(u[3]=g=>M(n).clearErrors()),type:"text",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),S(q,{message:M(n).errors.address,class:"mt-2"},null,8,["message"])]),F("div",wi,[S(j,{for:"gross_leasable_area",value:"Gross Leasable Area"}),S(M(Re),{modelValue:M(n).gross_leasable_area,"onUpdate:modelValue":u[4]||(u[4]=g=>M(n).gross_leasable_area=g),inputId:"integeronly",suffix:" sq ft",required:""},null,8,["modelValue"]),S(q,{message:M(n).errors.gross_leasable_area,class:"mt-2"},null,8,["message"])]),F("div",Ii,[S(j,{for:"users",value:"Team Members"}),S(M(je),{modelValue:M(n).users,"onUpdate:modelValue":u[5]||(u[5]=g=>M(n).users=g),multiple:"",suggestions:s.value,optionLabel:"display_name_with_roles",completeOnFocus:!0,onComplete:r},null,8,["modelValue","suggestions"]),vi,S(q,{message:M(n).errors.users,class:"mt-2"},null,8,["message"])]),F("div",xi,[S(j,{for:"property_photo",value:"Photo"}),S(M(e),{name:"asset_photo",ref_key:"pond",ref:o,"class-name":"my-pond",class:"mt-1","label-idle":"Photo Drop or <span class='filepond--label-action'>Browse</span>","allow-multiple":!1,"allow-replace":!0,maxFiles:1,instantUpload:!1,allowProcess:!1,"accepted-file-types":["image/jpg","image/jpeg","image/png"],credits:[],files:f.value,required:!1,onRemovefile:u[6]||(u[6]=(g,y)=>M(n).asset_photo=null)},null,8,["files"]),S(q,{message:M(n).errors.asset_photo,class:"mt-2"},null,8,["message"])])]),actions:L(()=>[F("div",Ei,[S(M(Ue),{href:h.route("assets.index")},{default:L(()=>[me("Cancel")]),_:1},8,["href"]),S(He,{class:We({"opacity-25":M(n).processing}),disabled:M(n).processing,type:"submit"},{default:L(()=>[me("Save")]),_:1},8,["class","disabled"])])]),_:1}))}};export{Ri as default};
