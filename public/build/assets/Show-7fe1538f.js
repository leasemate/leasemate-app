import{o as c,d as p,m as u,a as s,B as fe,U as q,D as _,h as ve,i as B,j as A,c as K,k as E,e as T,F as D,g as z,t as v,v as W,n as U,l as $e,p as De,b as g,w as x,q as Oe,Q as Ke,s as Ee,r as k,x as le,y as He,O as M,z as ce,A as Le,u as O,Z as je,f as V,C as Ne,E as Me,G as F}from"./app-0f2e8484.js";import{_ as Ve}from"./AuthenticatedLayout-d5d24f8f.js";import{T as Fe}from"./Table-578f7522.js";import{s as Z,R as me,a as X}from"./ripple.esm-d3e49c30.js";import{V as Re,p as Ue,s as qe}from"./filepond.min-a15edb14.js";import{_ as ze,a as We}from"./Associates-6b9d2ad8.js";import{_ as Ze}from"./PrimaryButton-032559c7.js";import{M as Qe}from"./monokai-7b758aed.js";import{t as de}from"./toast-d2058418.js";import{l as Ge}from"./index-e3f35709.js";import{_ as Je}from"./Modal-811fe31e.js";import{_ as Xe}from"./SecondaryButton-7696cfa3.js";import{_ as Ye}from"./DangerButton-8273803a.js";import"./DropdownLink-6e405168.js";import"./ToastList-f4091eac.js";import"./_plugin-vue_export-helper-c27b6911.js";var ge={name:"ChevronLeftIcon",extends:Z},et=s("path",{d:"M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z",fill:"currentColor"},null,-1),tt=[et];function at(t,e,a,n,r,o){return c(),p("svg",u({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),tt,16)}ge.render=at;var be={name:"ChevronRightIcon",extends:Z},nt=s("path",{d:"M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z",fill:"currentColor"},null,-1),st=[nt];function ot(t,e,a,n,r,o){return c(),p("svg",u({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),st,16)}be.render=ot;var rt={root:function(e){var a=e.props;return["p-tabview p-component",{"p-tabview-scrollable":a.scrollable}]},navContainer:"p-tabview-nav-container",previousButton:"p-tabview-nav-prev p-tabview-nav-btn p-link",navContent:"p-tabview-nav-content",nav:"p-tabview-nav",tab:{header:function(e){var a=e.instance,n=e.tab,r=e.index;return["p-tabview-header",a.getTabProp(n,"headerClass"),{"p-highlight":a.d_activeIndex===r,"p-disabled":a.getTabProp(n,"disabled")}]},headerAction:"p-tabview-nav-link p-tabview-header-action",headerTitle:"p-tabview-title",content:function(e){var a=e.instance,n=e.tab;return["p-tabview-panel",a.getTabProp(n,"contentClass")]}},inkbar:"p-tabview-ink-bar",nextButton:"p-tabview-nav-next p-tabview-nav-btn p-link",panelContainer:"p-tabview-panels"},it=fe.extend({name:"tabview",classes:rt}),lt={name:"BaseTabView",extends:X,props:{activeIndex:{type:Number,default:0},lazy:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1},previousButtonProps:{type:null,default:null},nextButtonProps:{type:null,default:null},prevIcon:{type:String,default:void 0},nextIcon:{type:String,default:void 0}},style:it,provide:function(){return{$parentInstance:this}}},ye={name:"TabView",extends:lt,emits:["update:activeIndex","tab-change","tab-click"],data:function(){return{id:this.$attrs.id,d_activeIndex:this.activeIndex,isPrevButtonDisabled:!0,isNextButtonDisabled:!1}},watch:{"$attrs.id":function(e){this.id=e||q()},activeIndex:function(e){this.d_activeIndex=e,this.scrollInView({index:e})}},mounted:function(){this.id=this.id||q(),this.updateInkBar(),this.scrollable&&this.updateButtonState()},updated:function(){this.updateInkBar(),this.scrollable&&this.updateButtonState()},methods:{isTabPanel:function(e){return e.type.name==="TabPanel"},isTabActive:function(e){return this.d_activeIndex===e},getTabProp:function(e,a){return e.props?e.props[a]:void 0},getKey:function(e,a){return this.getTabProp(e,"header")||a},getTabHeaderActionId:function(e){return"".concat(this.id,"_").concat(e,"_header_action")},getTabContentId:function(e){return"".concat(this.id,"_").concat(e,"_content")},getTabPT:function(e,a,n){var r=this.tabs.length,o={props:e.props,parent:{instance:this,props:this.$props,state:this.$data},context:{index:n,count:r,first:n===0,last:n===r-1,active:this.isTabActive(n)}};return u(this.ptm("tab.".concat(a),{tab:o}),this.ptm("tabpanel.".concat(a),{tabpanel:o}),this.ptm("tabpanel.".concat(a),o),this.ptmo(this.getTabProp(e,"pt"),a,o))},onScroll:function(e){this.scrollable&&this.updateButtonState(),e.preventDefault()},onPrevButtonClick:function(){var e=this.$refs.content,a=_.getWidth(e),n=e.scrollLeft-a;e.scrollLeft=n<=0?0:n},onNextButtonClick:function(){var e=this.$refs.content,a=_.getWidth(e)-this.getVisibleButtonWidths(),n=e.scrollLeft+a,r=e.scrollWidth-a;e.scrollLeft=n>=r?r:n},onTabClick:function(e,a,n){this.changeActiveIndex(e,a,n),this.$emit("tab-click",{originalEvent:e,index:n})},onTabKeyDown:function(e,a,n){switch(e.code){case"ArrowLeft":this.onTabArrowLeftKey(e);break;case"ArrowRight":this.onTabArrowRightKey(e);break;case"Home":this.onTabHomeKey(e);break;case"End":this.onTabEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onTabEnterKey(e,a,n);break}},onTabArrowRightKey:function(e){var a=this.findNextHeaderAction(e.target.parentElement);a?this.changeFocusedTab(e,a):this.onTabHomeKey(e),e.preventDefault()},onTabArrowLeftKey:function(e){var a=this.findPrevHeaderAction(e.target.parentElement);a?this.changeFocusedTab(e,a):this.onTabEndKey(e),e.preventDefault()},onTabHomeKey:function(e){var a=this.findFirstHeaderAction();this.changeFocusedTab(e,a),e.preventDefault()},onTabEndKey:function(e){var a=this.findLastHeaderAction();this.changeFocusedTab(e,a),e.preventDefault()},onPageDownKey:function(e){this.scrollInView({index:this.$refs.nav.children.length-2}),e.preventDefault()},onPageUpKey:function(e){this.scrollInView({index:0}),e.preventDefault()},onTabEnterKey:function(e,a,n){this.changeActiveIndex(e,a,n),e.preventDefault()},findNextHeaderAction:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=a?e:e.nextElementSibling;return n?_.getAttribute(n,"data-p-disabled")||_.getAttribute(n,"data-pc-section")==="inkbar"?this.findNextHeaderAction(n):_.findSingle(n,'[data-pc-section="headeraction"]'):null},findPrevHeaderAction:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=a?e:e.previousElementSibling;return n?_.getAttribute(n,"data-p-disabled")||_.getAttribute(n,"data-pc-section")==="inkbar"?this.findPrevHeaderAction(n):_.findSingle(n,'[data-pc-section="headeraction"]'):null},findFirstHeaderAction:function(){return this.findNextHeaderAction(this.$refs.nav.firstElementChild,!0)},findLastHeaderAction:function(){return this.findPrevHeaderAction(this.$refs.nav.lastElementChild,!0)},changeActiveIndex:function(e,a,n){!this.getTabProp(a,"disabled")&&this.d_activeIndex!==n&&(this.d_activeIndex=n,this.$emit("update:activeIndex",n),this.$emit("tab-change",{originalEvent:e,index:n}),this.scrollInView({index:n}))},changeFocusedTab:function(e,a){if(a&&(_.focus(a),this.scrollInView({element:a}),this.selectOnFocus)){var n=parseInt(a.parentElement.dataset.index,10),r=this.tabs[n];this.changeActiveIndex(e,r,n)}},scrollInView:function(e){var a=e.element,n=e.index,r=n===void 0?-1:n,o=a||this.$refs.nav.children[r];o&&o.scrollIntoView&&o.scrollIntoView({block:"nearest"})},updateInkBar:function(){var e=this.$refs.nav.children[this.d_activeIndex];this.$refs.inkbar.style.width=_.getWidth(e)+"px",this.$refs.inkbar.style.left=_.getOffset(e).left-_.getOffset(this.$refs.nav).left+"px"},updateButtonState:function(){var e=this.$refs.content,a=e.scrollLeft,n=e.scrollWidth,r=_.getWidth(e);this.isPrevButtonDisabled=a===0,this.isNextButtonDisabled=parseInt(a)===n-r},getVisibleButtonWidths:function(){var e=this.$refs,a=e.prevBtn,n=e.nextBtn;return[a,n].reduce(function(r,o){return o?r+_.getWidth(o):r},0)}},computed:{tabs:function(){var e=this;return this.$slots.default().reduce(function(a,n){return e.isTabPanel(n)?a.push(n):n.children&&n.children instanceof Array&&n.children.forEach(function(r){e.isTabPanel(r)&&a.push(r)}),a},[])},prevButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.previous:void 0},nextButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.next:void 0}},directives:{ripple:me},components:{ChevronLeftIcon:ge,ChevronRightIcon:be}};function H(t){"@babel/helpers - typeof";return H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(t)}function ue(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function C(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?ue(Object(a),!0).forEach(function(n){ct(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ue(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function ct(t,e,a){return e=dt(e),e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function dt(t){var e=ut(t,"string");return H(e)=="symbol"?e:String(e)}function ut(t,e){if(H(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,e||"default");if(H(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pt=["tabindex","aria-label"],ht=["data-p-highlight","data-p-disabled","data-pc-index","data-p-active"],ft=["id","tabindex","aria-disabled","aria-selected","aria-controls","onClick","onKeydown"],vt=["tabindex","aria-label"],mt=["id","aria-labelledby","data-pc-index","data-p-active"];function gt(t,e,a,n,r,o){var m=ve("ripple");return c(),p("div",u({class:t.cx("root"),role:"tablist"},t.ptm("root")),[s("div",u({class:t.cx("navContainer")},t.ptm("navContainer")),[t.scrollable&&!r.isPrevButtonDisabled?B((c(),p("button",u({key:0,ref:"prevBtn",type:"button",class:t.cx("previousButton"),tabindex:t.tabindex,"aria-label":o.prevButtonAriaLabel,onClick:e[0]||(e[0]=function(){return o.onPrevButtonClick&&o.onPrevButtonClick.apply(o,arguments)})},C(C({},t.previousButtonProps),t.ptm("previousButton")),{"data-pc-group-section":"navbutton"}),[A(t.$slots,"previcon",{},function(){return[(c(),K(E(t.prevIcon?"span":"ChevronLeftIcon"),u({"aria-hidden":"true",class:t.prevIcon},t.ptm("previousIcon")),null,16,["class"]))]})],16,pt)),[[m]]):T("",!0),s("div",u({ref:"content",class:t.cx("navContent"),onScroll:e[1]||(e[1]=function(){return o.onScroll&&o.onScroll.apply(o,arguments)})},t.ptm("navContent")),[s("ul",u({ref:"nav",class:t.cx("nav")},t.ptm("nav")),[(c(!0),p(D,null,z(o.tabs,function(l,d){return c(),p("li",u({key:o.getKey(l,d),style:o.getTabProp(l,"headerStyle"),class:t.cx("tab.header",{tab:l,index:d}),role:"presentation"},C(C(C({},o.getTabProp(l,"headerProps")),o.getTabPT(l,"root",d)),o.getTabPT(l,"header",d)),{"data-pc-name":"tabpanel","data-p-highlight":r.d_activeIndex===d,"data-p-disabled":o.getTabProp(l,"disabled"),"data-pc-index":d,"data-p-active":r.d_activeIndex===d}),[B((c(),p("a",u({id:o.getTabHeaderActionId(d),class:t.cx("tab.headerAction"),tabindex:o.getTabProp(l,"disabled")||!o.isTabActive(d)?-1:t.tabindex,role:"tab","aria-disabled":o.getTabProp(l,"disabled"),"aria-selected":o.isTabActive(d),"aria-controls":o.getTabContentId(d),onClick:function(S){return o.onTabClick(S,l,d)},onKeydown:function(S){return o.onTabKeyDown(S,l,d)}},C(C({},o.getTabProp(l,"headerActionProps")),o.getTabPT(l,"headerAction",d))),[l.props&&l.props.header?(c(),p("span",u({key:0,class:t.cx("tab.headerTitle")},o.getTabPT(l,"headerTitle",d)),v(l.props.header),17)):T("",!0),l.children&&l.children.header?(c(),K(E(l.children.header),{key:1})):T("",!0)],16,ft)),[[m]])],16,ht)}),128)),s("li",u({ref:"inkbar",class:t.cx("inkbar"),role:"presentation","aria-hidden":"true"},t.ptm("inkbar")),null,16)],16)],16),t.scrollable&&!r.isNextButtonDisabled?B((c(),p("button",u({key:1,ref:"nextBtn",type:"button",class:t.cx("nextButton"),tabindex:t.tabindex,"aria-label":o.nextButtonAriaLabel,onClick:e[2]||(e[2]=function(){return o.onNextButtonClick&&o.onNextButtonClick.apply(o,arguments)})},C(C({},t.nextButtonProps),t.ptm("nextButton")),{"data-pc-group-section":"navbutton"}),[A(t.$slots,"nexticon",{},function(){return[(c(),K(E(t.nextIcon?"span":"ChevronRightIcon"),u({"aria-hidden":"true",class:t.nextIcon},t.ptm("nextIcon")),null,16,["class"]))]})],16,vt)),[[m]]):T("",!0)],16),s("div",u({class:t.cx("panelContainer")},t.ptm("panelContainer")),[(c(!0),p(D,null,z(o.tabs,function(l,d){return c(),p(D,{key:o.getKey(l,d)},[!t.lazy||o.isTabActive(d)?B((c(),p("div",u({key:0,id:o.getTabContentId(d),style:o.getTabProp(l,"contentStyle"),class:t.cx("tab.content",{tab:l}),role:"tabpanel","aria-labelledby":o.getTabHeaderActionId(d)},C(C(C({},o.getTabProp(l,"contentProps")),o.getTabPT(l,"root",d)),o.getTabPT(l,"content",d)),{"data-pc-name":"tabpanel","data-pc-index":d,"data-p-active":r.d_activeIndex===d}),[(c(),K(E(l)))],16,mt)),[[W,t.lazy?!0:o.isTabActive(d)]]):T("",!0)],64)}),128))],16)],16)}ye.render=gt;var bt={},yt={name:"BaseTabPanel",extends:X,props:{header:null,headerStyle:null,headerClass:null,headerProps:null,headerActionProps:null,contentStyle:null,contentClass:null,contentProps:null,disabled:Boolean},style:bt},_e={name:"TabPanel",extends:yt};function _t(t,e,a,n,r,o){return A(t.$slots,"default")}_e.render=_t;var we={name:"MinusIcon",extends:Z},wt=s("path",{d:"M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z",fill:"currentColor"},null,-1),Ct=[wt];function xt(t,e,a,n,r,o){return c(),p("svg",u({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),Ct,16)}we.render=xt;var Ce={name:"PlusIcon",extends:Z},Pt=s("path",{d:"M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z",fill:"currentColor"},null,-1),Tt=[Pt];function kt(t,e,a,n,r,o){return c(),p("svg",u({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),Tt,16)}Ce.render=kt;var It={root:function(e){var a=e.props;return["p-panel p-component",{"p-panel-toggleable":a.toggleable}]},header:"p-panel-header",title:"p-panel-title",icons:"p-panel-icons",toggler:"p-panel-header-icon p-panel-toggler p-link",toggleablecontent:"p-toggleable-content",content:"p-panel-content",footer:"p-panel-footer"},Bt=fe.extend({name:"panel",classes:It}),At={name:"BasePanel",extends:X,props:{header:String,toggleable:Boolean,collapsed:Boolean,toggleButtonProps:{type:null,default:null}},style:Bt,provide:function(){return{$parentInstance:this}}},xe={name:"Panel",extends:At,emits:["update:collapsed","toggle"],data:function(){return{id:this.$attrs.id,d_collapsed:this.collapsed}},watch:{"$attrs.id":function(e){this.id=e||q()},collapsed:function(e){this.d_collapsed=e}},mounted:function(){this.id=this.id||q()},methods:{toggle:function(e){this.d_collapsed=!this.d_collapsed,this.$emit("update:collapsed",this.d_collapsed),this.$emit("toggle",{originalEvent:e,value:this.d_collapsed})},onKeyDown:function(e){(e.code==="Enter"||e.code==="NumpadEnter"||e.code==="Space")&&(this.toggle(e),e.preventDefault())}},computed:{buttonAriaLabel:function(){return this.toggleButtonProps&&this.toggleButtonProps.ariaLabel?this.toggleButtonProps.ariaLabel:this.header}},components:{PlusIcon:Ce,MinusIcon:we},directives:{ripple:me}};function L(t){"@babel/helpers - typeof";return L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(t)}function pe(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),a.push.apply(a,n)}return a}function he(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?pe(Object(a),!0).forEach(function(n){St(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):pe(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function St(t,e,a){return e=$t(e),e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function $t(t){var e=Dt(t,"string");return L(e)=="symbol"?e:String(e)}function Dt(t,e){if(L(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,e||"default");if(L(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ot=["id"],Kt=["id","aria-label","aria-controls","aria-expanded"],Et=["id","aria-labelledby"];function Ht(t,e,a,n,r,o){var m=ve("ripple");return c(),p("div",u({class:t.cx("root")},t.ptm("root")),[s("div",u({class:t.cx("header")},t.ptm("header")),[A(t.$slots,"header",{id:r.id+"_header",class:U(t.cx("title"))},function(){return[t.header?(c(),p("span",u({key:0,id:r.id+"_header",class:t.cx("title")},t.ptm("title")),v(t.header),17,Ot)):T("",!0)]}),s("div",u({class:t.cx("icons")},t.ptm("icons")),[A(t.$slots,"icons"),t.toggleable?B((c(),p("button",u({key:0,id:r.id+"_header",type:"button",role:"button",class:t.cx("toggler"),"aria-label":o.buttonAriaLabel,"aria-controls":r.id+"_content","aria-expanded":!r.d_collapsed,onClick:e[0]||(e[0]=function(){return o.toggle&&o.toggle.apply(o,arguments)}),onKeydown:e[1]||(e[1]=function(){return o.onKeyDown&&o.onKeyDown.apply(o,arguments)})},he(he({},t.toggleButtonProps),t.ptm("toggler"))),[A(t.$slots,"togglericon",{collapsed:r.d_collapsed},function(){return[(c(),K(E(r.d_collapsed?"PlusIcon":"MinusIcon"),$e(De(t.ptm("togglericon"))),null,16))]})],16,Kt)),[[m]]):T("",!0)],16)],16),g(Oe,u({name:"p-toggleable-content"},t.ptm("transition")),{default:x(function(){return[B(s("div",u({id:r.id+"_content",class:t.cx("toggleablecontent"),role:"region","aria-labelledby":r.id+"_header"},t.ptm("toggleablecontent")),[s("div",u({class:t.cx("content")},t.ptm("content")),[A(t.$slots,"default")],16),t.$slots.footer?(c(),p("div",u({key:0,class:t.cx("footer")},t.ptm("footer")),[A(t.$slots,"footer")],16)):T("",!0)],16,Et),[[W,!r.d_collapsed]])]}),_:3},16)],16)}xe.render=Ht;const Lt={class:"mb-4"},jt={class:"grid grid-cols-12 gap-4"},Nt={class:"col-span-6"},Mt={class:"card"},Vt={class:"m-0"},Ft={class:"col-span-6"},Rt=s("i",{class:"bx bx-plus text-16 align-middle ltr:mr-1 rtl:ml-1"},null,-1),Ut={class:"grid grid-cols-12 gap-4"},qt={class:"col-span-6"},zt={class:"p-4 bg-white"},Wt={class:"grid grid-cols-2 gap-x-4 gap-y-2"},Zt=s("div",{class:"text-sm font-medium text-gray-600"},"Tenant",-1),Qt={class:"text-lg font-semibold"},Gt=s("div",{class:"text-sm font-medium text-gray-600"},"Landlord",-1),Jt={class:"text-lg font-semibold"},Xt=s("div",{class:"text-sm font-medium text-gray-600"},"Property Address",-1),Yt={class:"text-lg font-semibold"},ea=s("div",{class:"text-sm font-medium text-gray-600"},"Lease Term",-1),ta={class:"text-lg font-semibold"},aa={class:"grid grid-cols-2 gap-x-4 gap-y-2"},na=s("div",{class:"text-sm font-medium text-gray-600"},"Usable Sq. Ft.",-1),sa={class:"text-lg font-semibold"},oa=s("div",{class:"text-sm font-medium text-gray-600"},"Rentable Sq. Ft.",-1),ra={class:"text-lg font-semibold"},ia=s("tr",null,[s("th",{scope:"col",class:"px-6 py-3"},"Start Date"),s("th",{scope:"col",class:"px-6 py-3"},"End Date"),s("th",{scope:"col",class:"px-6 py-3"},"Amount"),s("th",{scope:"col",class:"px-6 py-3"},"Rent / sqft")],-1),la={class:"bg-white border-b border-gray-50 dark:bg-zinc-700/50 dark:border-zinc-600"},ca={scope:"row",class:"px-6 py-4 space-x-2"},da={class:"px-6 py-4 text-gray-900"},ua={class:"px-6 py-4 text-gray-900"},pa={class:"px-6 py-4 text-gray-900"},ha={class:"col-span-6"},fa={class:""},va={class:"flex max-h-[52rem] min-h-[32rem] mt-auto mb-auto rounded-lg shadow-md"},ma={class:"flex flex-col w-full p-4 dark:border-l-gray-600"},ga={key:0},ba={key:1,class:"my-1 sm:my-1.5"},ya={class:"flex flex-col items-start"},_a={class:"pt-4 dark:border-t-gray-600"},wa={class:"relative"},Ca=["disabled"],xa={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"absolute right-2 bottom-3 h-8 w-8 hover:cursor-pointer rounded-full p-1 bg-violet-500 text-white hover:opacity-80"},Pa=s("path",{d:"M12 5l0 14"},null,-1),Ta=s("path",{d:"M18 11l-6 -6"},null,-1),ka=s("path",{d:"M6 11l6 -6"},null,-1),Ia=[Pa,Ta,ka],Ba={"aria-hidden":"true",role:"status",class:"absolute text-white animate-spin right-2 bottom-3 h-8 w-8 hover:cursor-pointer rounded-full p-1 bg-violet-500 text-white hover:opacity-80",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Aa=s("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"#E5E7EB"},null,-1),Sa=s("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentColor"},null,-1),$a=[Aa,Sa],Da={key:0,class:"text-red-700",role:"alert"},Oa={class:"block sm:inline"},Ka={class:"p-6"},Ea=s("h2",{class:"text-lg font-medium text-gray-900"}," Are you sure you want to delete this chat? ",-1),Ha={class:"mt-6 flex justify-end"},J=5,R=40,Ya={__name:"Show",props:{asset:Object,associates:Array,lease:Object,chat:{type:Object,default:null},chats:{type:Object,default:()=>({})}},setup(t){const e=Ke(),a=Ee(()=>e.props.auth.user),n=Ge("https://wss.leasemate.ai");let r="",o="",m="",l;const d=k(R),I=k(""),S=k(null),w=k(!1),P=k(null),Y=k(null),b=t,Q=()=>({chat_uuid:null,messages:[]}),Pe=le(b.chats),ee=le(b.chat),y=k(Q()),te=k(Pe);ee.value&&(y.value=ee.value);const j=k(null),ae=k(!1),Te=i=>{P.value=null,i.key==="Enter"&&i.shiftKey&&(d.value+=30),i.key==="Enter"&&!i.shiftKey&&!w.value&&(i.preventDefault(),se())},ke=i=>{P.value=null,i.target.value;const f=i.clipboardData.getData("text/plain"),h=f.split(`
`).length;f.includes(`
`)?d.value=Math.min(h*30,250):d.value=R},Ie=()=>{M.visit(route("assets.leases.show",[b.asset.id,b.lease.id]))},G=()=>{const i=Y.value;i.scrollTop=i.scrollHeight},Be=()=>{j.value&&M.delete(route("assets.leases.chats.destroy-chat",[b.asset,b.lease,j.value.chat_uuid]),{preserveScroll:!0,onSuccess:i=>{i.props.flash.error?N():(y.value=Q(),ne(),te.value=i.props.chats,j.value=null,N(),de.success("Chat deleted successfully!"))}})},N=()=>{ae.value=!1,j.value=null},ne=()=>{y.value.messages.unshift({from:"bot",message:"Hello! I am your personal assistant. How can I help you today?"})},Ae=()=>I.value.trim()===""?(P.value="Please enter a message",w.value=!1,S.value.focus(),!1):!0,se=async()=>{Ae()&&(P.value=null,d.value=R,F.post(route("assets.leases.chats.send-message",[b.asset.id,b.lease.id,y.value.chat_uuid??null]),{from:"user",message:I.value}).then(function(i){if(o=i.data.chat.chat_uuid,y.value.messages.push({from:"user",message:I.value}),!y.value.chat_uuid){const f=Q();f.last_message={message:"New Chat"},te.value.unshift(f)}oe(I.value),I.value="",d.value=R,ce(()=>{G()})}).catch(function(i){console.log(i),de.error(i.message),w.value=!1,P.value=i.response?i.response.data.error:i.message}))},oe=async i=>{w.value=!0,P.value="";const f={question:i,socketIOClientId:r,chatSessionId:o,tenant_domain:e.props.tenant_domain,asset_id:b.asset.id,lease_id:b.lease.id};try{const h="https://wss.leasemate.ai/api/v1/chat";a.value.jwt_token||await re(),await F.post(h,f,{headers:{Authorization:"Bearer "+a.value.jwt_token}}).then(function($){F.post(route("assets.leases.chats.send-message",[b.asset.id,b.lease.id,o]),{from:"bot",message:$.data.text}).then(function(ie){y.value.chat_uuid||M.visit(route("assets.leases.chats.show",[b.asset.id,b.lease.id,o]),{preserveScroll:!0})}).catch(function(ie){w.value=!1,P.value=ie.response.data.error})}).catch(async function($){$.response.data.error_name=="TokenExpiredError"?(await re(),await oe(i)):(w.value=!1,P.value=$.message)})}catch(h){w.value=!1,P.value=h,console.error("Error sending query:",h)}},re=async()=>{await F.post(route("refresh-token")).then(function(i){a.value.jwt_token=i.data.token}).catch(function(i){console.log(i)})},Se=Re(Ue);return qe({credits:[],required:!0,allowMultiple:!0,allowRevert:!1,acceptedFileTypes:["application/pdf"]}),He(()=>{S.value.focus(),Echo.private(`tenant-global-channel.${e.props.tenant_id}`).listen("FileStatusUpdate",i=>{M.reload({only:["leases"]})}),ce(()=>{G()}),ne(),n.on("connect",()=>{r=n.id}),n.on("start",()=>{}),n.on("token",i=>{if(l=y.value.messages[y.value.messages.length-1],m+=i,m.length>=J){w.value=!1;let f=m.lastIndexOf(" ",J);f===-1&&(f=J);const h=m.slice(0,f+1);l&&(l.from=="user"?y.value.messages.push({from:"bot",message:h}):l.message+=h),G(),m=m.slice(f+1)}}),n.on("sourceDocuments",i=>{}),n.on("end",()=>{m.trim().length>0&&(l.message+=m),m=""})}),Le(()=>{a.value&&Echo.leave(`tenant-global-channel.${e.props.tenant_id}`)}),(i,f)=>(c(),p(D,null,[g(O(je),{title:"Asset"}),g(Ve,null,{header:x(()=>[V(" Asset - "+v(t.asset.name),1)]),default:x(()=>[g(ze,{asset:t.asset},null,8,["asset"]),g(We,{associates:t.associates},null,8,["associates"]),s("div",Lt,[s("h3",null,v(t.lease.tenant_name),1),s("h4",null,v(t.lease.address),1)]),s("div",jt,[s("div",Nt,[s("div",Mt,[g(O(xe),{header:"Upload Amendments",toggleable:"",collapsed:!0},{default:x(()=>[s("p",Vt,[g(O(Se),{name:"lease_amendment",ref:"pond","class-name":"my-file-upload","label-idle":"Amendment Drop or <span class='filepond--label-action'>Browse</span>"},null,512)])]),_:1})])]),s("div",Ft,[g(Ze,{class:"mb-4",onClick:Ie},{default:x(()=>[Rt,V(" Chat ")]),_:1})])]),s("div",Ut,[s("div",qt,[g(O(ye),{scrollable:!0},{default:x(()=>[g(O(_e),{header:"Original Lease Abstract"},{default:x(()=>[s("div",zt,[s("div",Wt,[s("div",null,[Zt,s("div",Qt,v(t.lease.extracted_data.lessee_tenant),1)]),s("div",null,[Gt,s("div",Jt,v(t.lease.extracted_data.lessor_landlord),1)]),s("div",null,[Xt,s("div",Yt,v(t.lease.extracted_data.property_address),1)]),s("div",null,[ea,s("div",ta,v(t.lease.extracted_data.lease_term),1)])]),s("div",aa,[s("div",null,[na,s("div",sa,v(i.filters.formatNumber(t.lease.extracted_data.usable_square_feet)),1)]),s("div",null,[oa,s("div",ra,v(i.filters.formatNumber(t.lease.extracted_data.rentable_square_feet)),1)])]),g(Fe,{class:"mt-8",data:t.lease.extracted_data.rent_schedule,columns:["Start Date","End Date","Amount","Frequency"]},{head:x(()=>[ia]),body:x(()=>[(c(!0),p(D,null,z(t.lease.monthly_base_rent,h=>(c(),p("tr",la,[s("th",ca,v(h.start_date),1),s("td",da,v(h.end_date),1),s("td",ua,v(i.filters.formatMoney(h.amount_total)),1),s("td",pa,v(i.filters.formatMoney(h.amount_per_square_foot)),1)]))),256))]),_:1},8,["data"])])]),_:1})]),_:1})]),s("div",ha,[s("div",fa,[s("div",va,[s("div",ma,[s("div",{ref_key:"messagesPanel",ref:Y,class:"flex-1 overflow-y-auto mb-4"},[y.value&&y.value.messages?(c(),p("div",ga,[(c(!0),p(D,null,z(y.value.messages,(h,$)=>(c(),p("div",{key:$,class:"my-1 sm:my-1.5"},[s("div",{class:U(["flex flex-row",{"justify-start ":h.from==="bot","justify-end":h.from==="user"}])},[s("div",{class:U(["flex flex-col break-words max-w-[90%] flex-shrink-0",{"items-start ":h.from==="bot","items-end":h.from==="user"}])},[s("div",{class:U(["flex items-center px-3 py-2 whitespace-pre-wrap h-auto",{"bg-neutral-50 text-neutral-900 rounded-2xl rounded-bl-none":h.from==="bot","bg-indigo-100 text-violet-900 rounded-2xl rounded-br-none":h.from==="user"}])},v(h.message),3)],2)],2)]))),128))])):T("",!0),w.value?(c(),p("div",ba,[s("div",ya,[g(Qe)])])):T("",!0)],512),s("div",_a,[s("div",wa,[B(s("textarea",{"onUpdate:modelValue":f[0]||(f[0]=h=>I.value=h),class:"min-h-[44px] rounded-lg pl-4 pr-12 py-2 w-full focus:outline-none focus:ring-1 focus:ring-neutral-300 border-2 border-neutral-200 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-50",style:Me([{resize:"none"},{height:d.value+"px"}]),placeholder:"Type a message...",autocomplete:"off",rows:"1",ref_key:"messageField",ref:S,onKeydown:Te,onPaste:ke},null,36),[[Ne,I.value]]),s("button",{disabled:w.value,onClick:se},[B((c(),p("svg",xa,Ia,512)),[[W,!w.value]]),B((c(),p("svg",Ba,$a,512)),[[W,w.value]])],8,Ca)])]),P.value?(c(),p("div",Da,[s("span",Oa,v(P.value),1)])):T("",!0)])])])])]),g(Je,{show:ae.value,onClose:N},{default:x(()=>[s("div",Ka,[Ea,s("div",Ha,[g(Xe,{onClick:N},{default:x(()=>[V(" Cancel ")]),_:1}),g(Ye,{class:"ml-3",onClick:f[1]||(f[1]=h=>Be(y.value))},{default:x(()=>[V(" Delete Chat ")]),_:1})])])]),_:1},8,["show"])]),_:1})],64))}};export{Ya as default};
