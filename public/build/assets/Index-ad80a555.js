import{o as l,f as n,b as e,k as r,l as B,a as g,u as F,w as x,F as f,Z as H,d as K,m as y,g as b,i as S,p as z,q as E,n as u,t as w}from"./app-bb2ab0a8.js";import{_ as P}from"./AuthenticatedLayout-f8a125e7.js";import{_ as j}from"./_plugin-vue_export-helper-c27b6911.js";import"./_commonjsHelpers-de833af9.js";const W={},q={class:"flex justify-center"},A=e("div",{class:"dot animate-loader"},null,-1),I=e("div",{class:"dot animate-loader animation-delay-200"},null,-1),J=e("div",{class:"dot animate-loader animation-delay-400"},null,-1),O=[A,I,J];function U(k,i){return l(),n("div",q,O)}const Z=j(W,[["render",U]]),G={class:"flex h-[52rem] mt-auto mb-auto bg-gray-100 rounded-lg border border-neutral-300 bg-white"},Q={class:"w-1/3 p-4 overflow-y-auto"},R=e("i",{class:"mgc_add_line text-base mr-2"},null,-1),X=e("span",{class:"font-bold"},"Chat",-1),Y=[R,X],ee=e("hr",{class:"mb-4"},null,-1),te=["onClick"],se=e("i",{class:"mgc_chat_2_line text-2xl mr-3 text-gray-400"},null,-1),ae={class:"flex-1 mr-3"},oe={class:"text-sm text-gray-500"},le=e("div",{class:"text-xs text-gray-400 mr-3 whitespace-nowrap"}," Jan 25, 10:15 AM ",-1),ne=["onClick"],ie={class:"flex flex-col w-2/3 p-4 border-l"},re={class:"flex-1 overflow-y-auto mb-4"},ce={key:0},de={key:1,class:"my-1 sm:my-1.5"},ue={class:"flex flex-col items-start"},he={class:"border-t pt-4"},me={class:"relative"},_e=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"absolute right-2 bottom-3 h-8 w-8 hover:cursor-pointer rounded-full p-1 bg-blue-500 text-white hover:opacity-80"},[e("path",{d:"M12 5l0 14"}),e("path",{d:"M18 11l-6 -6"}),e("path",{d:"M6 11l6 -6"})],-1),ge=[_e],p=40,ye={__name:"Index",setup(k){r("");const i=r(p),c=r(""),h=r(null),m=r(!1),d=r([{id:1,last_message:"Last message for id 1",messages:[{type:"bot",message:"Hi there!!! How can i help?"}]},{id:4,last_message:"Last message for id 4",messages:[{type:"bot",message:"What can i do for ya?"},{type:"user",message:"Whats the rent?"},{type:"bot",message:"base rent at that location is $25,000"}]}]),a=r(null),C=t=>{t.key==="Enter"&&t.shiftKey&&(i.value+=30),t.key==="Enter"&&!t.shiftKey&&(t.preventDefault(),v())},$=t=>{t.target.value;const o=t.clipboardData.getData("text/plain"),s=o.split(`
`).length;console.log(o),console.log(s),o.includes(`
`)?(console.log("New line detected"),console.log(s),i.value=Math.min(s*30,250),console.log(i.value)):i.value=p},v=async()=>{m.value=!0,i.value=p,a.value===null&&(a.value={id:Math.random(),last_message:"",messages:[]},d.value.unshift(a.value));const t=a.value.messages;t.push({type:"user",message:c.value});try{await T(2e3),t.push({type:"bot",message:"base rent at that location is $25,000"}),a.value.last_message=N(c.value),c.value=""}catch(o){console.log(o)}finally{m.value=!1}},M=()=>{a.value=null,h.value.focus()},L=t=>{a.value=t},D=t=>{d.value.splice(t,1),d.value.length},N=t=>t.length>38?t.slice(0,38)+"...":t;function T(t){return new Promise(o=>setTimeout(o,t))}return B(()=>{h.value.focus()}),(t,o)=>(l(),n(f,null,[g(F(H),{title:"Chat"}),g(P,null,{header:x(()=>[K(" Chat ")]),default:x(()=>[e("div",G,[e("div",Q,[e("button",{onClick:M,class:"flex items-center mb-4 bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50"},Y),ee,(l(!0),n(f,null,y(d.value,(s,_)=>(l(),n("div",{key:s.id,class:u([{"bg-gray-50":a.value&&a.value.id===s.id},"transition duration-300 flex justify-between items-center mb-4 p-4 hover:bg-gray-100 rounded-lg cursor-pointer"]),onClick:V=>L(s)},[se,e("div",ae,[e("p",oe,w(s.last_message),1)]),le,e("i",{onClick:V=>D(_),class:"mgc_close_fill text-sm text-gray-400 hover:text-red-500 cursor-pointer"},null,8,ne)],10,te))),128))]),e("div",ie,[e("div",re,[a.value&&a.value.messages?(l(),n("div",ce,[(l(!0),n(f,null,y(a.value.messages,(s,_)=>(l(),n("div",{key:_,class:"my-1 sm:my-1.5"},[e("div",{class:u(["flex flex-row",{"justify-start ":s.type==="bot","justify-end":s.type==="user"}])},[e("div",{class:u(["flex flex-col break-words max-w-[90%] flex-shrink-0",{"items-start ":s.type==="bot","items-end":s.type==="user"}])},[e("div",{class:u(["flex items-center px-3 py-2 whitespace-pre-wrap",{"bg-neutral-200 text-neutral-900 rounded-2xl rounded-bl-none":s.type==="bot","bg-blue-500 text-white rounded-2xl rounded-br-none":s.type==="user"}])},w(s.message),3)],2)],2)]))),128))])):b("",!0),m.value?(l(),n("div",de,[e("div",ue,[g(Z)])])):b("",!0)]),e("div",he,[e("div",me,[S(e("textarea",{"onUpdate:modelValue":o[0]||(o[0]=s=>c.value=s),class:"min-h-[44px] rounded-lg pl-4 pr-12 py-2 w-full focus:outline-none focus:ring-1 focus:ring-neutral-300 border-2 border-neutral-200",style:E([{resize:"none"},{height:i.value+"px"}]),placeholder:"Type a message...",rows:"1",ref_key:"messageField",ref:h,onKeydown:C,onPaste:$},null,36),[[z,c.value]]),e("button",{onClick:v},ge)])])])])]),_:1})],64))}};export{ye as default};
