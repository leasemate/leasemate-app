import{o as u,d as p,m as h,a as i,B as me,U as Z,D as g,h as ve,i as B,j as $,c as L,k as j,e as x,F as O,g as M,t as k,v as G,n as N,l as Ee,p as Ke,b as m,w as b,q as He,K as Le,s as je,r as T,x as ue,y as Ne,O as K,z as ce,A as Me,u as I,Z as Ve,f as H,C as Fe,E as ze,G as U,H as Re}from"./app-39961174.js";import{_ as Ue}from"./AuthenticatedLayout-2a8082f1.js";import{s as Q,R as be,a as ae}from"./ripple.esm-c8b9a4ca.js";import{V as We,p as Ze,s as Ge}from"./filepond.min-f1c0de15.js";import{_ as Qe,a as Je}from"./Associates-903e3451.js";import{_ as Xe}from"./PrimaryButton-f075d869.js";import{M as Ye}from"./monokai-a5dfec38.js";import{t as de}from"./toast-232409d9.js";import{l as et}from"./index-fb0b8ccc.js";import{_ as tt}from"./Modal-334caf6d.js";import{_ as at}from"./SecondaryButton-7587c4c0.js";import{_ as nt}from"./DangerButton-84358b26.js";import"./DropdownLink-613707cf.js";import"./ToastList-2f49bf85.js";import"./_plugin-vue_export-helper-c27b6911.js";var ge={name:"ChevronLeftIcon",extends:Q},st=i("path",{d:"M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z",fill:"currentColor"},null,-1),it=[st];function ot(t,e,a,n,o,s){return u(),p("svg",h({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),it,16)}ge.render=ot;var ye={name:"ChevronRightIcon",extends:Q},rt=i("path",{d:"M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z",fill:"currentColor"},null,-1),lt=[rt];function ut(t,e,a,n,o,s){return u(),p("svg",h({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),lt,16)}ye.render=ut;var ct=`
@layer primevue {
    .p-tabview-nav-container {
        position: relative;
    }

    .p-tabview-scrollable .p-tabview-nav-container {
        overflow: hidden;
    }

    .p-tabview-nav-content {
        overflow-x: auto;
        overflow-y: hidden;
        scroll-behavior: smooth;
        scrollbar-width: none;
        overscroll-behavior: contain auto;
    }

    .p-tabview-nav {
        display: flex;
        margin: 0;
        padding: 0;
        list-style-type: none;
        flex: 1 1 auto;
    }

    .p-tabview-header-action {
        cursor: pointer;
        user-select: none;
        display: flex;
        align-items: center;
        position: relative;
        text-decoration: none;
        overflow: hidden;
    }

    .p-tabview-ink-bar {
        display: none;
        z-index: 1;
    }

    .p-tabview-header-action:focus {
        z-index: 1;
    }

    .p-tabview-title {
        line-height: 1;
        white-space: nowrap;
    }

    .p-tabview-nav-btn {
        position: absolute;
        top: 0;
        z-index: 2;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .p-tabview-nav-prev {
        left: 0;
    }

    .p-tabview-nav-next {
        right: 0;
    }

    .p-tabview-nav-content::-webkit-scrollbar {
        display: none;
    }
}
`,dt={root:function(e){var a=e.props;return["p-tabview p-component",{"p-tabview-scrollable":a.scrollable}]},navContainer:"p-tabview-nav-container",previousButton:"p-tabview-nav-prev p-tabview-nav-btn p-link",navContent:"p-tabview-nav-content",nav:"p-tabview-nav",tab:{header:function(e){var a=e.instance,n=e.tab,o=e.index;return["p-tabview-header",a.getTabProp(n,"headerClass"),{"p-highlight":a.d_activeIndex===o,"p-disabled":a.getTabProp(n,"disabled")}]},headerAction:"p-tabview-nav-link p-tabview-header-action",headerTitle:"p-tabview-title",content:function(e){var a=e.instance,n=e.tab;return["p-tabview-panel",a.getTabProp(n,"contentClass")]}},inkbar:"p-tabview-ink-bar",nextButton:"p-tabview-nav-next p-tabview-nav-btn p-link",panelContainer:"p-tabview-panels"},pt=me.extend({name:"tabview",css:ct,classes:dt}),ht={name:"BaseTabView",extends:ae,props:{activeIndex:{type:Number,default:0},lazy:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1},previousButtonProps:{type:null,default:null},nextButtonProps:{type:null,default:null},prevIcon:{type:String,default:void 0},nextIcon:{type:String,default:void 0}},style:pt,provide:function(){return{$parentInstance:this}}},we={name:"TabView",extends:ht,emits:["update:activeIndex","tab-change","tab-click"],data:function(){return{id:this.$attrs.id,d_activeIndex:this.activeIndex,isPrevButtonDisabled:!0,isNextButtonDisabled:!1}},watch:{"$attrs.id":function(e){this.id=e||Z()},activeIndex:function(e){this.d_activeIndex=e,this.scrollInView({index:e})}},mounted:function(){this.id=this.id||Z(),this.updateInkBar(),this.scrollable&&this.updateButtonState()},updated:function(){this.updateInkBar()},methods:{isTabPanel:function(e){return e.type.name==="TabPanel"},isTabActive:function(e){return this.d_activeIndex===e},getTabProp:function(e,a){return e.props?e.props[a]:void 0},getKey:function(e,a){return this.getTabProp(e,"header")||a},getTabHeaderActionId:function(e){return"".concat(this.id,"_").concat(e,"_header_action")},getTabContentId:function(e){return"".concat(this.id,"_").concat(e,"_content")},getTabPT:function(e,a,n){var o=this.tabs.length,s={props:e.props,parent:{instance:this,props:this.$props,state:this.$data},context:{index:n,count:o,first:n===0,last:n===o-1,active:this.isTabActive(n)}};return h(this.ptm("tab.".concat(a),{tab:s}),this.ptm("tabpanel.".concat(a),{tabpanel:s}),this.ptm("tabpanel.".concat(a),s),this.ptmo(this.getTabProp(e,"pt"),a,s))},onScroll:function(e){this.scrollable&&this.updateButtonState(),e.preventDefault()},onPrevButtonClick:function(){var e=this.$refs.content,a=g.getWidth(e),n=e.scrollLeft-a;e.scrollLeft=n<=0?0:n},onNextButtonClick:function(){var e=this.$refs.content,a=g.getWidth(e)-this.getVisibleButtonWidths(),n=e.scrollLeft+a,o=e.scrollWidth-a;e.scrollLeft=n>=o?o:n},onTabClick:function(e,a,n){this.changeActiveIndex(e,a,n),this.$emit("tab-click",{originalEvent:e,index:n})},onTabKeyDown:function(e,a,n){switch(e.code){case"ArrowLeft":this.onTabArrowLeftKey(e);break;case"ArrowRight":this.onTabArrowRightKey(e);break;case"Home":this.onTabHomeKey(e);break;case"End":this.onTabEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onTabEnterKey(e,a,n);break}},onTabArrowRightKey:function(e){var a=this.findNextHeaderAction(e.target.parentElement);a?this.changeFocusedTab(e,a):this.onTabHomeKey(e),e.preventDefault()},onTabArrowLeftKey:function(e){var a=this.findPrevHeaderAction(e.target.parentElement);a?this.changeFocusedTab(e,a):this.onTabEndKey(e),e.preventDefault()},onTabHomeKey:function(e){var a=this.findFirstHeaderAction();this.changeFocusedTab(e,a),e.preventDefault()},onTabEndKey:function(e){var a=this.findLastHeaderAction();this.changeFocusedTab(e,a),e.preventDefault()},onPageDownKey:function(e){this.scrollInView({index:this.$refs.nav.children.length-2}),e.preventDefault()},onPageUpKey:function(e){this.scrollInView({index:0}),e.preventDefault()},onTabEnterKey:function(e,a,n){this.changeActiveIndex(e,a,n),e.preventDefault()},findNextHeaderAction:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=a?e:e.nextElementSibling;return n?g.getAttribute(n,"data-p-disabled")||g.getAttribute(n,"data-pc-section")==="inkbar"?this.findNextHeaderAction(n):g.findSingle(n,'[data-pc-section="headeraction"]'):null},findPrevHeaderAction:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=a?e:e.previousElementSibling;return n?g.getAttribute(n,"data-p-disabled")||g.getAttribute(n,"data-pc-section")==="inkbar"?this.findPrevHeaderAction(n):g.findSingle(n,'[data-pc-section="headeraction"]'):null},findFirstHeaderAction:function(){return this.findNextHeaderAction(this.$refs.nav.firstElementChild,!0)},findLastHeaderAction:function(){return this.findPrevHeaderAction(this.$refs.nav.lastElementChild,!0)},changeActiveIndex:function(e,a,n){!this.getTabProp(a,"disabled")&&this.d_activeIndex!==n&&(this.d_activeIndex=n,this.$emit("update:activeIndex",n),this.$emit("tab-change",{originalEvent:e,index:n}),this.scrollInView({index:n}))},changeFocusedTab:function(e,a){if(a&&(g.focus(a),this.scrollInView({element:a}),this.selectOnFocus)){var n=parseInt(a.parentElement.dataset.index,10),o=this.tabs[n];this.changeActiveIndex(e,o,n)}},scrollInView:function(e){var a=e.element,n=e.index,o=n===void 0?-1:n,s=a||this.$refs.nav.children[o];s&&s.scrollIntoView&&s.scrollIntoView({block:"nearest"})},updateInkBar:function(){var e=this.$refs.nav.children[this.d_activeIndex];this.$refs.inkbar.style.width=g.getWidth(e)+"px",this.$refs.inkbar.style.left=g.getOffset(e).left-g.getOffset(this.$refs.nav).left+"px"},updateButtonState:function(){var e=this.$refs.content,a=e.scrollLeft,n=e.scrollWidth,o=g.getWidth(e);this.isPrevButtonDisabled=a===0,this.isNextButtonDisabled=parseInt(a)===n-o},getVisibleButtonWidths:function(){var e=this.$refs,a=e.prevBtn,n=e.nextBtn;return[a,n].reduce(function(o,s){return s?o+g.getWidth(s):o},0)}},computed:{tabs:function(){var e=this;return this.$slots.default().reduce(function(a,n){return e.isTabPanel(n)?a.push(n):n.children&&n.children instanceof Array&&n.children.forEach(function(o){e.isTabPanel(o)&&a.push(o)}),a},[])},prevButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.previous:void 0},nextButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.next:void 0}},directives:{ripple:be},components:{ChevronLeftIcon:ge,ChevronRightIcon:ye}};function V(t){"@babel/helpers - typeof";return V=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(t)}function pe(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),a.push.apply(a,n)}return a}function w(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?pe(Object(a),!0).forEach(function(n){ft(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):pe(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function ft(t,e,a){return e=mt(e),e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function mt(t){var e=vt(t,"string");return V(e)=="symbol"?e:String(e)}function vt(t,e){if(V(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,e||"default");if(V(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bt=["tabindex","aria-label"],gt=["data-p-highlight","data-p-disabled","data-pc-index","data-p-active"],yt=["id","tabindex","aria-disabled","aria-selected","aria-controls","onClick","onKeydown"],wt=["tabindex","aria-label"],_t=["id","aria-labelledby","data-pc-index","data-p-active"];function Ct(t,e,a,n,o,s){var P=ve("ripple");return u(),p("div",h({class:t.cx("root")},t.ptm("root"),{"data-pc-name":"tabview"}),[i("div",h({class:t.cx("navContainer")},t.ptm("navContainer")),[t.scrollable&&!o.isPrevButtonDisabled?B((u(),p("button",h({key:0,ref:"prevBtn",type:"button",class:t.cx("previousButton"),tabindex:t.tabindex,"aria-label":s.prevButtonAriaLabel,onClick:e[0]||(e[0]=function(){return s.onPrevButtonClick&&s.onPrevButtonClick.apply(s,arguments)})},w(w({},t.previousButtonProps),t.ptm("previousButton")),{"data-pc-group-section":"navbutton"}),[$(t.$slots,"previcon",{},function(){return[(u(),L(j(t.prevIcon?"span":"ChevronLeftIcon"),h({"aria-hidden":"true",class:t.prevIcon},t.ptm("previousIcon")),null,16,["class"]))]})],16,bt)),[[P]]):x("",!0),i("div",h({ref:"content",class:t.cx("navContent"),onScroll:e[1]||(e[1]=function(){return s.onScroll&&s.onScroll.apply(s,arguments)})},t.ptm("navContent")),[i("ul",h({ref:"nav",class:t.cx("nav"),role:"tablist"},t.ptm("nav")),[(u(!0),p(O,null,M(s.tabs,function(l,c){return u(),p("li",h({key:s.getKey(l,c),style:s.getTabProp(l,"headerStyle"),class:t.cx("tab.header",{tab:l,index:c}),role:"presentation"},w(w(w({},s.getTabProp(l,"headerProps")),s.getTabPT(l,"root",c)),s.getTabPT(l,"header",c)),{"data-pc-name":"tabpanel","data-p-highlight":o.d_activeIndex===c,"data-p-disabled":s.getTabProp(l,"disabled"),"data-pc-index":c,"data-p-active":o.d_activeIndex===c}),[B((u(),p("a",h({id:s.getTabHeaderActionId(c),class:t.cx("tab.headerAction"),tabindex:s.getTabProp(l,"disabled")||!s.isTabActive(c)?-1:t.tabindex,role:"tab","aria-disabled":s.getTabProp(l,"disabled"),"aria-selected":s.isTabActive(c),"aria-controls":s.getTabContentId(c),onClick:function(_){return s.onTabClick(_,l,c)},onKeydown:function(_){return s.onTabKeyDown(_,l,c)}},w(w({},s.getTabProp(l,"headerActionProps")),s.getTabPT(l,"headerAction",c))),[l.props&&l.props.header?(u(),p("span",h({key:0,class:t.cx("tab.headerTitle")},s.getTabPT(l,"headerTitle",c)),k(l.props.header),17)):x("",!0),l.children&&l.children.header?(u(),L(j(l.children.header),{key:1})):x("",!0)],16,yt)),[[P]])],16,gt)}),128)),i("li",h({ref:"inkbar",class:t.cx("inkbar"),role:"presentation","aria-hidden":"true"},t.ptm("inkbar")),null,16)],16)],16),t.scrollable&&!o.isNextButtonDisabled?B((u(),p("button",h({key:1,ref:"nextBtn",type:"button",class:t.cx("nextButton"),tabindex:t.tabindex,"aria-label":s.nextButtonAriaLabel,onClick:e[2]||(e[2]=function(){return s.onNextButtonClick&&s.onNextButtonClick.apply(s,arguments)})},w(w({},t.nextButtonProps),t.ptm("nextButton")),{"data-pc-group-section":"navbutton"}),[$(t.$slots,"nexticon",{},function(){return[(u(),L(j(t.nextIcon?"span":"ChevronRightIcon"),h({"aria-hidden":"true",class:t.nextIcon},t.ptm("nextIcon")),null,16,["class"]))]})],16,wt)),[[P]]):x("",!0)],16),i("div",h({class:t.cx("panelContainer")},t.ptm("panelContainer")),[(u(!0),p(O,null,M(s.tabs,function(l,c){return u(),p(O,{key:s.getKey(l,c)},[!t.lazy||s.isTabActive(c)?B((u(),p("div",h({key:0,id:s.getTabContentId(c),style:s.getTabProp(l,"contentStyle"),class:t.cx("tab.content",{tab:l}),role:"tabpanel","aria-labelledby":s.getTabHeaderActionId(c)},w(w(w({},s.getTabProp(l,"contentProps")),s.getTabPT(l,"root",c)),s.getTabPT(l,"content",c)),{"data-pc-name":"tabpanel","data-pc-index":c,"data-p-active":o.d_activeIndex===c}),[(u(),L(j(l)))],16,_t)),[[G,t.lazy?!0:s.isTabActive(c)]]):x("",!0)],64)}),128))],16)],16)}we.render=Ct;var xt={},Pt={name:"BaseTabPanel",extends:ae,props:{header:null,headerStyle:null,headerClass:null,headerProps:null,headerActionProps:null,contentStyle:null,contentClass:null,contentProps:null,disabled:Boolean},style:xt},D={name:"TabPanel",extends:Pt};function Tt(t,e,a,n,o,s){return $(t.$slots,"default")}D.render=Tt;var _e={name:"MinusIcon",extends:Q},It=i("path",{d:"M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z",fill:"currentColor"},null,-1),kt=[It];function At(t,e,a,n,o,s){return u(),p("svg",h({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),kt,16)}_e.render=At;var Ce={name:"PlusIcon",extends:Q,computed:{pathId:function(){return"pv_icon_clip_".concat(Z())}}},Bt=["clipPath"],St=i("path",{d:"M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z",fill:"currentColor"},null,-1),$t=[St],Dt=["id"],Ot=i("rect",{width:"14",height:"14",fill:"white"},null,-1),qt=[Ot];function Et(t,e,a,n,o,s){return u(),p("svg",h({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),[i("g",{clipPath:"url(#".concat(s.pathId,")")},$t,8,Bt),i("defs",null,[i("clipPath",{id:"".concat(s.pathId)},qt,8,Dt)])],16)}Ce.render=Et;var Kt=`
@layer primevue {
    .p-panel-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .p-panel-title {
        line-height: 1;
    }

    .p-panel-header-icon {
        display: inline-flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        text-decoration: none;
        overflow: hidden;
        position: relative;
    }
}
`,Ht={root:function(e){var a=e.props;return["p-panel p-component",{"p-panel-toggleable":a.toggleable}]},header:"p-panel-header",title:"p-panel-title",icons:"p-panel-icons",toggler:"p-panel-header-icon p-panel-toggler p-link",toggleablecontent:"p-toggleable-content",content:"p-panel-content",footer:"p-panel-footer"},Lt=me.extend({name:"panel",css:Kt,classes:Ht}),jt={name:"BasePanel",extends:ae,props:{header:String,toggleable:Boolean,collapsed:Boolean,toggleButtonProps:{type:null,default:null}},style:Lt,provide:function(){return{$parentInstance:this}}},xe={name:"Panel",extends:jt,emits:["update:collapsed","toggle"],data:function(){return{d_collapsed:this.collapsed}},watch:{collapsed:function(e){this.d_collapsed=e}},methods:{toggle:function(e){this.d_collapsed=!this.d_collapsed,this.$emit("update:collapsed",this.d_collapsed),this.$emit("toggle",{originalEvent:e,value:this.d_collapsed})},onKeyDown:function(e){(e.code==="Enter"||e.code==="NumpadEnter"||e.code==="Space")&&(this.toggle(e),e.preventDefault())}},computed:{ariaId:function(){return Z()},buttonAriaLabel:function(){return this.toggleButtonProps&&this.toggleButtonProps.ariaLabel?this.toggleButtonProps.ariaLabel:this.header}},components:{PlusIcon:Ce,MinusIcon:_e},directives:{ripple:be}};function F(t){"@babel/helpers - typeof";return F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(t)}function he(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),a.push.apply(a,n)}return a}function fe(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?he(Object(a),!0).forEach(function(n){Nt(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):he(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function Nt(t,e,a){return e=Mt(e),e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function Mt(t){var e=Vt(t,"string");return F(e)=="symbol"?e:String(e)}function Vt(t,e){if(F(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,e||"default");if(F(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ft=["id"],zt=["id","aria-label","aria-controls","aria-expanded"],Rt=["id","aria-labelledby"];function Ut(t,e,a,n,o,s){var P=ve("ripple");return u(),p("div",h({class:t.cx("root")},t.ptm("root"),{"data-pc-name":"panel"}),[i("div",h({class:t.cx("header")},t.ptm("header")),[$(t.$slots,"header",{id:s.ariaId+"_header",class:N(t.cx("title"))},function(){return[t.header?(u(),p("span",h({key:0,id:s.ariaId+"_header",class:t.cx("title")},t.ptm("title")),k(t.header),17,Ft)):x("",!0)]}),i("div",h({class:t.cx("icons")},t.ptm("icons")),[$(t.$slots,"icons"),t.toggleable?B((u(),p("button",h({key:0,id:s.ariaId+"_header",type:"button",role:"button",class:t.cx("toggler"),"aria-label":s.buttonAriaLabel,"aria-controls":s.ariaId+"_content","aria-expanded":!o.d_collapsed,onClick:e[0]||(e[0]=function(){return s.toggle&&s.toggle.apply(s,arguments)}),onKeydown:e[1]||(e[1]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},fe(fe({},t.toggleButtonProps),t.ptm("toggler"))),[$(t.$slots,"togglericon",{collapsed:o.d_collapsed},function(){return[(u(),L(j(o.d_collapsed?"PlusIcon":"MinusIcon"),Ee(Ke(t.ptm("togglericon"))),null,16))]})],16,zt)),[[P]]):x("",!0)],16)],16),m(He,h({name:"p-toggleable-content"},t.ptm("transition")),{default:b(function(){return[B(i("div",h({id:s.ariaId+"_content",class:t.cx("toggleablecontent"),role:"region","aria-labelledby":s.ariaId+"_header"},t.ptm("toggleablecontent")),[i("div",h({class:t.cx("content")},t.ptm("content")),[$(t.$slots,"default")],16),t.$slots.footer?(u(),p("div",h({key:0,class:t.cx("footer")},t.ptm("footer")),[$(t.$slots,"footer")],16)):x("",!0)],16,Rt),[[G,!o.d_collapsed]])]}),_:3},16)],16)}xe.render=Ut;const Wt={class:"mb-4"},Zt={class:"grid grid-cols-12 gap-12"},Gt={class:"col-span-7"},Qt={class:""},Jt={class:"flex max-h-[52rem] min-h-[32rem] mt-auto mb-auto rounded-lg"},Xt={class:"w-1/3 p-4"},Yt=i("i",{class:"bx bx-plus text-16 align-middle ltr:mr-1 rtl:ml-1"},null,-1),ea={class:"max-h-[36rem] overflow-y-auto"},ta=["onClick"],aa={class:"flex items-center justify-between space-x-2"},na={class:"relative grow overflow-hidden whitespace-nowrap text-sm text-gray-500"},sa=i("div",{class:"absolute bottom-0 right-0 top-0 bg-gradient-to-l to-transparent w-8 from-white from-0% group-hover:w-20 group-hover:from-token-surface-primary group-hover:from-80%"},null,-1),ia=["onClick"],oa={class:"flex flex-col w-2/3 p-4 dark:border-l-gray-600"},ra={key:0},la={key:1,class:"my-1 sm:my-1.5"},ua={class:"flex flex-col items-start"},ca={class:"pt-4 dark:border-t-gray-600"},da={class:"relative"},pa=["disabled"],ha={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"absolute right-2 bottom-3 h-8 w-8 hover:cursor-pointer rounded-full p-1 bg-violet-500 text-white hover:opacity-80"},fa=i("path",{d:"M12 5l0 14"},null,-1),ma=i("path",{d:"M18 11l-6 -6"},null,-1),va=i("path",{d:"M6 11l6 -6"},null,-1),ba=[fa,ma,va],ga={"aria-hidden":"true",role:"status",class:"absolute text-white animate-spin right-2 bottom-3 h-8 w-8 hover:cursor-pointer rounded-full p-1 bg-violet-500 text-white hover:opacity-80",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ya=i("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"#E5E7EB"},null,-1),wa=i("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentColor"},null,-1),_a=[ya,wa],Ca={key:0,class:"text-red-700",role:"alert"},xa={class:"block sm:inline"},Pa={class:"col-span-5"},Ta={class:"card"},Ia={class:"m-0"},ka={class:"divide-y divide-gray-200"},Aa={class:"py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5"},Ba={class:"text-sm font-medium text-gray-500"},Sa={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},$a=i("p",{class:"m-0"}," Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Consectetur, adipisci velit, sed quia non numquam eius modi. ",-1),Da=i("p",{class:"m-0"}," At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus. ",-1),Oa=i("p",{class:"m-0"}," At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus. ",-1),qa=i("p",{class:"m-0"}," At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus. ",-1),Ea=i("p",{class:"m-0"}," At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus. ",-1),Ka={class:"p-6"},Ha=i("h2",{class:"text-lg font-medium text-gray-900"}," Are you sure you want to delete this chat? ",-1),La={class:"mt-6 flex justify-end"},te=5,W=40,en={__name:"Show",props:{asset:Object,associates:Array,lease:Object,chat:{type:Object,default:null},chats:{type:Object,default:()=>({})}},setup(t){const e=t,a=Le(),n=je(()=>a.props.auth.user),o=et("https://wss.leasemate.ai");let s="",P="",l="",c;const S=T(W),_=T(""),J=T(null),y=T(!1),C=T(null),ne=T(null),X=()=>({chat_uuid:null,messages:[]}),Pe=ue(e.chats),se=ue(e.chat),v=T(X()),Y=T(Pe);se.value&&(v.value=se.value);const q=T(null),ee=T(!1),Te=r=>{C.value=null,r.key==="Enter"&&r.shiftKey&&(S.value+=30),r.key==="Enter"&&!r.shiftKey&&!y.value&&(r.preventDefault(),oe())},Ie=r=>{C.value=null,r.target.value;const f=r.clipboardData.getData("text/plain"),d=f.split(`
`).length;f.includes(`
`)?S.value=Math.min(d*30,250):S.value=W},ke=()=>{K.visit(route("assets.leases.show",[e.asset.id,e.lease.id]))},z=()=>{const r=ne.value;r.scrollTop=r.scrollHeight},Ae=async r=>{r.chat_uuid&&(K.visit(route("assets.leases.chats.show",[e.asset,e.lease,r.chat_uuid]),{preserveScroll:!0,only:["chats","chat"]}),z())},Be=()=>{q.value&&K.delete(route("assets.leases.chats.destroy-chat",[e.asset,e.lease,q.value.chat_uuid]),{preserveScroll:!0,onSuccess:r=>{r.props.flash.error?R():(v.value=X(),ie(),Y.value=r.props.chats,q.value=null,R(),de.success("Chat deleted successfully!"))}})},Se=r=>{ee.value=!0,q.value=r},R=()=>{ee.value=!1,q.value=null},$e=r=>{if(!r)return null;const f=38;return r.length>f?r.slice(0,f)+"...":r},ie=()=>{v.value.messages.unshift({from:"bot",message:"Hello! I am your personal assistant. How can I help you today?"})},De=()=>_.value.trim()===""?(C.value="Please enter a message",y.value=!1,J.value.focus(),!1):!0,oe=async()=>{De()&&(C.value=null,S.value=W,U.post(route("assets.leases.chats.send-message",[e.asset.id,e.lease.id,v.value.chat_uuid??null]),{from:"user",message:_.value}).then(function(r){if(P=r.data.chat.chat_uuid,v.value.messages.push({from:"user",message:_.value}),!v.value.chat_uuid){const f=X();f.last_message={message:"New Chat"},Y.value.unshift(f)}re(_.value),_.value="",S.value=W,ce(()=>{z()})}).catch(function(r){console.log(r),de.error(r.message),y.value=!1,C.value=r.response?r.response.data.error:r.message}))},re=async r=>{y.value=!0,C.value="";const f={question:r,socketIOClientId:s,chatSessionId:P,tenant_domain:a.props.tenant_domain,asset_id:e.asset.id,lease_id:e.lease.id};try{const d="https://wss.leasemate.ai/api/v1/chat";n.value.jwt_token||await le(),await U.post(d,f,{headers:{Authorization:"Bearer "+n.value.jwt_token}}).then(function(A){U.post(route("assets.leases.chats.send-message",[e.asset.id,e.lease.id,P]),{from:"bot",message:A.data.text}).then(function(E){v.value.chat_uuid||K.visit(route("assets.leases.chats.show",[e.asset.id,e.lease.id,P]),{preserveScroll:!0})}).catch(function(E){y.value=!1,C.value=E.response.data.error})}).catch(async function(A){A.response.data.error_name=="TokenExpiredError"?(await le(),await re(r)):(y.value=!1,C.value=A.message)})}catch(d){y.value=!1,C.value=d,console.error("Error sending query:",d)}},le=async()=>{await U.post(route("refresh-token")).then(function(r){n.value.jwt_token=r.data.token}).catch(function(r){console.log(r)})},Oe=We(Ze);return Ge({credits:[],required:!0,allowMultiple:!0,allowRevert:!1,acceptedFileTypes:["application/pdf"]}),Ne(()=>{J.value.focus(),Echo.private(`tenant-global-channel.${a.props.tenant_id}`).listen("FileStatusUpdate",r=>{K.reload({only:["leases"]})}),ce(()=>{z()}),ie(),o.on("connect",()=>{s=o.id}),o.on("start",()=>{}),o.on("token",r=>{if(c=v.value.messages[v.value.messages.length-1],l+=r,l.length>=te){y.value=!1;let f=l.lastIndexOf(" ",te);f===-1&&(f=te);const d=l.slice(0,f+1);c&&(c.from=="user"?v.value.messages.push({from:"bot",message:d}):c.message+=d),z(),l=l.slice(f+1)}}),o.on("sourceDocuments",r=>{}),o.on("end",()=>{l.trim().length>0&&(c.message+=l),l=""})}),Me(()=>{n.value&&Echo.leave(`tenant-global-channel.${a.props.tenant_id}`)}),(r,f)=>(u(),p(O,null,[m(I(Ve),{title:"Asset"}),m(Ue,null,{header:b(()=>[H(" Asset - "+k(t.asset.name),1)]),default:b(()=>[m(Qe,{asset:t.asset},null,8,["asset"]),m(Je,{associates:t.associates},null,8,["associates"]),i("div",Wt,[i("h3",null,k(t.lease.tenant_name),1),i("h4",null,k(t.lease.address),1)]),i("div",Zt,[i("div",Gt,[i("div",Qt,[i("div",Jt,[i("div",Xt,[m(Xe,{class:"mb-4",onClick:ke},{default:b(()=>[Yt,H(" Chat ")]),_:1}),i("div",ea,[(u(!0),p(O,null,M(Y.value,(d,A)=>{var E;return u(),p("div",{key:d.id,onClick:qe=>Ae(d),class:N([{"bg-slate-50":v.value&&v.value.chat_uuid===d.chat_uuid},"transition duration-300 mb-4 p-4 hover:bg-slate-100 rounded-lg cursor-pointer border-b shadow"])},[i("div",aa,[i("div",na,[H(k($e((E=d==null?void 0:d.last_message)==null?void 0:E.message)||null)+" ",1),sa]),i("i",{onClick:Re(qe=>Se(d),["stop"]),class:"mdi mdi-trash-can text-sm text-gray-400 hover:text-red-500 cursor-pointer"},null,8,ia)])],10,ta)}),128))])]),i("div",oa,[i("div",{ref_key:"messagesPanel",ref:ne,class:"flex-1 overflow-y-auto mb-4"},[v.value&&v.value.messages?(u(),p("div",ra,[(u(!0),p(O,null,M(v.value.messages,(d,A)=>(u(),p("div",{key:A,class:"my-1 sm:my-1.5"},[i("div",{class:N(["flex flex-row",{"justify-start ":d.from==="bot","justify-end":d.from==="user"}])},[i("div",{class:N(["flex flex-col break-words max-w-[90%] flex-shrink-0",{"items-start ":d.from==="bot","items-end":d.from==="user"}])},[i("div",{class:N(["flex items-center px-3 py-2 whitespace-pre-wrap h-auto",{"bg-neutral-50 text-neutral-900 rounded-2xl rounded-bl-none":d.from==="bot","bg-indigo-100 text-violet-900 rounded-2xl rounded-br-none":d.from==="user"}])},k(d.message),3)],2)],2)]))),128))])):x("",!0),y.value?(u(),p("div",la,[i("div",ua,[m(Ye)])])):x("",!0)],512),i("div",ca,[i("div",da,[B(i("textarea",{"onUpdate:modelValue":f[0]||(f[0]=d=>_.value=d),class:"min-h-[44px] rounded-lg pl-4 pr-12 py-2 w-full focus:outline-none focus:ring-1 focus:ring-neutral-300 border-2 border-neutral-200 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-50",style:ze([{resize:"none"},{height:S.value+"px"}]),placeholder:"Type a message...",autocomplete:"off",rows:"1",ref_key:"messageField",ref:J,onKeydown:Te,onPaste:Ie},null,36),[[Fe,_.value]]),i("button",{disabled:y.value,onClick:oe},[B((u(),p("svg",ha,ba,512)),[[G,!y.value]]),B((u(),p("svg",ga,_a,512)),[[G,y.value]])],8,pa)])]),C.value?(u(),p("div",Ca,[i("span",xa,k(C.value),1)])):x("",!0)])])])]),i("div",Pa,[i("div",Ta,[m(I(xe),{header:"Upload Amendments",toggleable:"",collapsed:!0},{default:b(()=>[i("p",Ia,[m(I(Oe),{name:"lease_amendment",ref:"pond","class-name":"my-file-upload","label-idle":"Amendment Drop or <span class='filepond--label-action'>Browse</span>"},null,512)])]),_:1})]),m(I(we),{scrollable:!0},{default:b(()=>[m(I(D),{header:"Original Lease Abstract"},{default:b(()=>[i("dl",ka,[(u(!0),p(O,null,M(t.lease.extracted_data,(d,A)=>(u(),p("div",Aa,[i("dt",Ba,k(A),1),i("dd",Sa,k(d),1)]))),256))])]),_:1}),m(I(D),{header:"Amendment I"},{default:b(()=>[$a]),_:1}),m(I(D),{header:"Amendment II"},{default:b(()=>[Da]),_:1}),m(I(D),{header:"Amendment II"},{default:b(()=>[Oa]),_:1}),m(I(D),{header:"Amendment II"},{default:b(()=>[qa]),_:1}),m(I(D),{header:"Amendment II"},{default:b(()=>[Ea]),_:1})]),_:1})])]),m(tt,{show:ee.value,onClose:R},{default:b(()=>[i("div",Ka,[Ha,i("div",La,[m(at,{onClick:R},{default:b(()=>[H(" Cancel ")]),_:1}),m(nt,{class:"ml-3",onClick:f[1]||(f[1]=d=>Be(v.value))},{default:b(()=>[H(" Delete Chat ")]),_:1})])])]),_:1},8,["show"])]),_:1})],64))}};export{en as default};
