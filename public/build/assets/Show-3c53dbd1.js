import{o as u,d as p,m as d,a as s,B as fe,U as q,D as _,h as ve,i as B,j as A,c as E,k as K,e as T,F as O,g as z,t as m,v as U,n as W,l as $e,p as De,b as v,w as x,q as Oe,Q as Ee,s as Ke,r as k,x as le,y as Le,O as V,z as ce,A as He,u as D,Z as je,f as N,C as Me,E as Ve,G as F}from"./app-183a3c8f.js";import{_ as Ne}from"./AuthenticatedLayout-77ec2dc3.js";import{T as Fe}from"./Table-282282e1.js";import{s as Z,R as me,a as J}from"./ripple.esm-24e2e937.js";import{M as Re,a as We}from"./MessageLoader-7c3550d5.js";import{V as qe,p as ze,s as Ue}from"./filepond.min-bf76aeba.js";import{_ as Ze,a as Qe}from"./Associates-cbb0033d.js";import{_ as Ge}from"./PrimaryButton-8124ceb6.js";import{t as ue}from"./toast-2ad15644.js";import{l as Ye}from"./index-e3f35709.js";import{_ as Je}from"./Modal-5c9bb87c.js";import{_ as Xe}from"./SecondaryButton-d45ef0d9.js";import{_ as et}from"./DangerButton-ac44f052.js";import"./DropdownLink-9f3dffad.js";import"./index-2fc181d9.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ToastList-23e1ffea.js";var ge={name:"ChevronLeftIcon",extends:Z},tt=s("path",{d:"M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z",fill:"currentColor"},null,-1),at=[tt];function nt(e,t,a,n,r,o){return u(),p("svg",d({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),at,16)}ge.render=nt;var be={name:"ChevronRightIcon",extends:Z},st=s("path",{d:"M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z",fill:"currentColor"},null,-1),ot=[st];function rt(e,t,a,n,r,o){return u(),p("svg",d({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),ot,16)}be.render=rt;var it={root:function(t){var a=t.props;return["p-tabview p-component",{"p-tabview-scrollable":a.scrollable}]},navContainer:"p-tabview-nav-container",previousButton:"p-tabview-nav-prev p-tabview-nav-btn p-link",navContent:"p-tabview-nav-content",nav:"p-tabview-nav",tab:{header:function(t){var a=t.instance,n=t.tab,r=t.index;return["p-tabview-header",a.getTabProp(n,"headerClass"),{"p-highlight":a.d_activeIndex===r,"p-disabled":a.getTabProp(n,"disabled")}]},headerAction:"p-tabview-nav-link p-tabview-header-action",headerTitle:"p-tabview-title",content:function(t){var a=t.instance,n=t.tab;return["p-tabview-panel",a.getTabProp(n,"contentClass")]}},inkbar:"p-tabview-ink-bar",nextButton:"p-tabview-nav-next p-tabview-nav-btn p-link",panelContainer:"p-tabview-panels"},lt=fe.extend({name:"tabview",classes:it}),ct={name:"BaseTabView",extends:J,props:{activeIndex:{type:Number,default:0},lazy:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1},previousButtonProps:{type:null,default:null},nextButtonProps:{type:null,default:null},prevIcon:{type:String,default:void 0},nextIcon:{type:String,default:void 0}},style:lt,provide:function(){return{$parentInstance:this}}},ye={name:"TabView",extends:ct,inheritAttrs:!1,emits:["update:activeIndex","tab-change","tab-click"],data:function(){return{id:this.$attrs.id,d_activeIndex:this.activeIndex,isPrevButtonDisabled:!0,isNextButtonDisabled:!1}},watch:{"$attrs.id":function(t){this.id=t||q()},activeIndex:function(t){this.d_activeIndex=t,this.scrollInView({index:t})}},mounted:function(){this.id=this.id||q(),this.updateInkBar(),this.scrollable&&this.updateButtonState()},updated:function(){this.updateInkBar(),this.scrollable&&this.updateButtonState()},methods:{isTabPanel:function(t){return t.type.name==="TabPanel"},isTabActive:function(t){return this.d_activeIndex===t},getTabProp:function(t,a){return t.props?t.props[a]:void 0},getKey:function(t,a){return this.getTabProp(t,"header")||a},getTabHeaderActionId:function(t){return"".concat(this.id,"_").concat(t,"_header_action")},getTabContentId:function(t){return"".concat(this.id,"_").concat(t,"_content")},getTabPT:function(t,a,n){var r=this.tabs.length,o={props:t.props,parent:{instance:this,props:this.$props,state:this.$data},context:{index:n,count:r,first:n===0,last:n===r-1,active:this.isTabActive(n)}};return d(this.ptm("tab.".concat(a),{tab:o}),this.ptm("tabpanel.".concat(a),{tabpanel:o}),this.ptm("tabpanel.".concat(a),o),this.ptmo(this.getTabProp(t,"pt"),a,o))},onScroll:function(t){this.scrollable&&this.updateButtonState(),t.preventDefault()},onPrevButtonClick:function(){var t=this.$refs.content,a=_.getWidth(t),n=t.scrollLeft-a;t.scrollLeft=n<=0?0:n},onNextButtonClick:function(){var t=this.$refs.content,a=_.getWidth(t)-this.getVisibleButtonWidths(),n=t.scrollLeft+a,r=t.scrollWidth-a;t.scrollLeft=n>=r?r:n},onTabClick:function(t,a,n){this.changeActiveIndex(t,a,n),this.$emit("tab-click",{originalEvent:t,index:n})},onTabKeyDown:function(t,a,n){switch(t.code){case"ArrowLeft":this.onTabArrowLeftKey(t);break;case"ArrowRight":this.onTabArrowRightKey(t);break;case"Home":this.onTabHomeKey(t);break;case"End":this.onTabEndKey(t);break;case"PageDown":this.onPageDownKey(t);break;case"PageUp":this.onPageUpKey(t);break;case"Enter":case"NumpadEnter":case"Space":this.onTabEnterKey(t,a,n);break}},onTabArrowRightKey:function(t){var a=this.findNextHeaderAction(t.target.parentElement);a?this.changeFocusedTab(t,a):this.onTabHomeKey(t),t.preventDefault()},onTabArrowLeftKey:function(t){var a=this.findPrevHeaderAction(t.target.parentElement);a?this.changeFocusedTab(t,a):this.onTabEndKey(t),t.preventDefault()},onTabHomeKey:function(t){var a=this.findFirstHeaderAction();this.changeFocusedTab(t,a),t.preventDefault()},onTabEndKey:function(t){var a=this.findLastHeaderAction();this.changeFocusedTab(t,a),t.preventDefault()},onPageDownKey:function(t){this.scrollInView({index:this.$refs.nav.children.length-2}),t.preventDefault()},onPageUpKey:function(t){this.scrollInView({index:0}),t.preventDefault()},onTabEnterKey:function(t,a,n){this.changeActiveIndex(t,a,n),t.preventDefault()},findNextHeaderAction:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=a?t:t.nextElementSibling;return n?_.getAttribute(n,"data-p-disabled")||_.getAttribute(n,"data-pc-section")==="inkbar"?this.findNextHeaderAction(n):_.findSingle(n,'[data-pc-section="headeraction"]'):null},findPrevHeaderAction:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=a?t:t.previousElementSibling;return n?_.getAttribute(n,"data-p-disabled")||_.getAttribute(n,"data-pc-section")==="inkbar"?this.findPrevHeaderAction(n):_.findSingle(n,'[data-pc-section="headeraction"]'):null},findFirstHeaderAction:function(){return this.findNextHeaderAction(this.$refs.nav.firstElementChild,!0)},findLastHeaderAction:function(){return this.findPrevHeaderAction(this.$refs.nav.lastElementChild,!0)},changeActiveIndex:function(t,a,n){!this.getTabProp(a,"disabled")&&this.d_activeIndex!==n&&(this.d_activeIndex=n,this.$emit("update:activeIndex",n),this.$emit("tab-change",{originalEvent:t,index:n}),this.scrollInView({index:n}))},changeFocusedTab:function(t,a){if(a&&(_.focus(a),this.scrollInView({element:a}),this.selectOnFocus)){var n=parseInt(a.parentElement.dataset.pcIndex,10),r=this.tabs[n];this.changeActiveIndex(t,r,n)}},scrollInView:function(t){var a=t.element,n=t.index,r=n===void 0?-1:n,o=a||this.$refs.nav.children[r];o&&o.scrollIntoView&&o.scrollIntoView({block:"nearest"})},updateInkBar:function(){var t=this.$refs.nav.children[this.d_activeIndex];this.$refs.inkbar.style.width=_.getWidth(t)+"px",this.$refs.inkbar.style.left=_.getOffset(t).left-_.getOffset(this.$refs.nav).left+"px"},updateButtonState:function(){var t=this.$refs.content,a=t.scrollLeft,n=t.scrollWidth,r=_.getWidth(t);this.isPrevButtonDisabled=a===0,this.isNextButtonDisabled=parseInt(a)===n-r},getVisibleButtonWidths:function(){var t=this.$refs,a=t.prevBtn,n=t.nextBtn;return[a,n].reduce(function(r,o){return o?r+_.getWidth(o):r},0)}},computed:{tabs:function(){var t=this;return this.$slots.default().reduce(function(a,n){return t.isTabPanel(n)?a.push(n):n.children&&n.children instanceof Array&&n.children.forEach(function(r){t.isTabPanel(r)&&a.push(r)}),a},[])},prevButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.previous:void 0},nextButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.next:void 0}},directives:{ripple:me},components:{ChevronLeftIcon:ge,ChevronRightIcon:be}};function L(e){"@babel/helpers - typeof";return L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(e)}function de(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?de(Object(a),!0).forEach(function(n){ut(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):de(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function ut(e,t,a){return t=dt(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function dt(e){var t=pt(e,"string");return L(t)=="symbol"?t:String(t)}function pt(e,t){if(L(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t||"default");if(L(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ht=["tabindex","aria-label"],ft=["data-p-highlight","data-p-disabled","data-pc-index","data-p-active"],vt=["id","tabindex","aria-disabled","aria-selected","aria-controls","onClick","onKeydown"],mt=["tabindex","aria-label"],gt=["id","aria-labelledby","data-pc-index","data-p-active"];function bt(e,t,a,n,r,o){var g=ve("ripple");return u(),p("div",d({class:e.cx("root"),role:"tablist"},e.ptmi("root")),[s("div",d({class:e.cx("navContainer")},e.ptm("navContainer")),[e.scrollable&&!r.isPrevButtonDisabled?B((u(),p("button",d({key:0,ref:"prevBtn",type:"button",class:e.cx("previousButton"),tabindex:e.tabindex,"aria-label":o.prevButtonAriaLabel,onClick:t[0]||(t[0]=function(){return o.onPrevButtonClick&&o.onPrevButtonClick.apply(o,arguments)})},C(C({},e.previousButtonProps),e.ptm("previousButton")),{"data-pc-group-section":"navbutton"}),[A(e.$slots,"previousicon",{},function(){return[(u(),E(K(e.prevIcon?"span":"ChevronLeftIcon"),d({"aria-hidden":"true",class:e.prevIcon},e.ptm("previousIcon")),null,16,["class"]))]})],16,ht)),[[g]]):T("",!0),s("div",d({ref:"content",class:e.cx("navContent"),onScroll:t[1]||(t[1]=function(){return o.onScroll&&o.onScroll.apply(o,arguments)})},e.ptm("navContent")),[s("ul",d({ref:"nav",class:e.cx("nav")},e.ptm("nav")),[(u(!0),p(O,null,z(o.tabs,function(l,c){return u(),p("li",d({key:o.getKey(l,c),style:o.getTabProp(l,"headerStyle"),class:e.cx("tab.header",{tab:l,index:c}),role:"presentation"},C(C(C({},o.getTabProp(l,"headerProps")),o.getTabPT(l,"root",c)),o.getTabPT(l,"header",c)),{"data-pc-name":"tabpanel","data-p-highlight":r.d_activeIndex===c,"data-p-disabled":o.getTabProp(l,"disabled"),"data-pc-index":c,"data-p-active":r.d_activeIndex===c}),[B((u(),p("a",d({id:o.getTabHeaderActionId(c),class:e.cx("tab.headerAction"),tabindex:o.getTabProp(l,"disabled")||!o.isTabActive(c)?-1:e.tabindex,role:"tab","aria-disabled":o.getTabProp(l,"disabled"),"aria-selected":o.isTabActive(c),"aria-controls":o.getTabContentId(c),onClick:function(S){return o.onTabClick(S,l,c)},onKeydown:function(S){return o.onTabKeyDown(S,l,c)}},C(C({},o.getTabProp(l,"headerActionProps")),o.getTabPT(l,"headerAction",c))),[l.props&&l.props.header?(u(),p("span",d({key:0,class:e.cx("tab.headerTitle")},o.getTabPT(l,"headerTitle",c)),m(l.props.header),17)):T("",!0),l.children&&l.children.header?(u(),E(K(l.children.header),{key:1})):T("",!0)],16,vt)),[[g]])],16,ft)}),128)),s("li",d({ref:"inkbar",class:e.cx("inkbar"),role:"presentation","aria-hidden":"true"},e.ptm("inkbar")),null,16)],16)],16),e.scrollable&&!r.isNextButtonDisabled?B((u(),p("button",d({key:1,ref:"nextBtn",type:"button",class:e.cx("nextButton"),tabindex:e.tabindex,"aria-label":o.nextButtonAriaLabel,onClick:t[2]||(t[2]=function(){return o.onNextButtonClick&&o.onNextButtonClick.apply(o,arguments)})},C(C({},e.nextButtonProps),e.ptm("nextButton")),{"data-pc-group-section":"navbutton"}),[A(e.$slots,"nexticon",{},function(){return[(u(),E(K(e.nextIcon?"span":"ChevronRightIcon"),d({"aria-hidden":"true",class:e.nextIcon},e.ptm("nextIcon")),null,16,["class"]))]})],16,mt)),[[g]]):T("",!0)],16),s("div",d({class:e.cx("panelContainer")},e.ptm("panelContainer")),[(u(!0),p(O,null,z(o.tabs,function(l,c){return u(),p(O,{key:o.getKey(l,c)},[!e.lazy||o.isTabActive(c)?B((u(),p("div",d({key:0,id:o.getTabContentId(c),style:o.getTabProp(l,"contentStyle"),class:e.cx("tab.content",{tab:l}),role:"tabpanel","aria-labelledby":o.getTabHeaderActionId(c)},C(C(C({},o.getTabProp(l,"contentProps")),o.getTabPT(l,"root",c)),o.getTabPT(l,"content",c)),{"data-pc-name":"tabpanel","data-pc-index":c,"data-p-active":r.d_activeIndex===c}),[(u(),E(K(l)))],16,gt)),[[U,e.lazy?!0:o.isTabActive(c)]]):T("",!0)],64)}),128))],16)],16)}ye.render=bt;var yt={},_t={name:"BaseTabPanel",extends:J,props:{header:null,headerStyle:null,headerClass:null,headerProps:null,headerActionProps:null,contentStyle:null,contentClass:null,contentProps:null,disabled:Boolean},style:yt},_e={name:"TabPanel",extends:_t};function wt(e,t,a,n,r,o){return A(e.$slots,"default")}_e.render=wt;var we={name:"MinusIcon",extends:Z},Ct=s("path",{d:"M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z",fill:"currentColor"},null,-1),xt=[Ct];function Pt(e,t,a,n,r,o){return u(),p("svg",d({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),xt,16)}we.render=Pt;var Ce={name:"PlusIcon",extends:Z},Tt=s("path",{d:"M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z",fill:"currentColor"},null,-1),kt=[Tt];function It(e,t,a,n,r,o){return u(),p("svg",d({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),kt,16)}Ce.render=It;var Bt={root:function(t){var a=t.props;return["p-panel p-component",{"p-panel-toggleable":a.toggleable}]},header:"p-panel-header",title:"p-panel-title",icons:"p-panel-icons",toggler:"p-panel-header-icon p-panel-toggler p-link",toggleablecontent:"p-toggleable-content",content:"p-panel-content",footer:"p-panel-footer"},At=fe.extend({name:"panel",classes:Bt}),St={name:"BasePanel",extends:J,props:{header:String,toggleable:Boolean,collapsed:Boolean,toggleButtonProps:{type:null,default:null}},style:At,provide:function(){return{$parentInstance:this}}},xe={name:"Panel",extends:St,inheritAttrs:!1,emits:["update:collapsed","toggle"],data:function(){return{id:this.$attrs.id,d_collapsed:this.collapsed}},watch:{"$attrs.id":function(t){this.id=t||q()},collapsed:function(t){this.d_collapsed=t}},mounted:function(){this.id=this.id||q()},methods:{toggle:function(t){this.d_collapsed=!this.d_collapsed,this.$emit("update:collapsed",this.d_collapsed),this.$emit("toggle",{originalEvent:t,value:this.d_collapsed})},onKeyDown:function(t){(t.code==="Enter"||t.code==="NumpadEnter"||t.code==="Space")&&(this.toggle(t),t.preventDefault())}},computed:{buttonAriaLabel:function(){return this.toggleButtonProps&&this.toggleButtonProps.ariaLabel?this.toggleButtonProps.ariaLabel:this.header}},components:{PlusIcon:Ce,MinusIcon:we},directives:{ripple:me}};function H(e){"@babel/helpers - typeof";return H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H(e)}function pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),a.push.apply(a,n)}return a}function he(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?pe(Object(a),!0).forEach(function(n){$t(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pe(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function $t(e,t,a){return t=Dt(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Dt(e){var t=Ot(e,"string");return H(t)=="symbol"?t:String(t)}function Ot(e,t){if(H(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t||"default");if(H(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Et=["id"],Kt=["id","aria-label","aria-controls","aria-expanded"],Lt=["id","aria-labelledby"];function Ht(e,t,a,n,r,o){var g=ve("ripple");return u(),p("div",d({class:e.cx("root")},e.ptmi("root")),[s("div",d({class:e.cx("header")},e.ptm("header")),[A(e.$slots,"header",{id:r.id+"_header",class:W(e.cx("title"))},function(){return[e.header?(u(),p("span",d({key:0,id:r.id+"_header",class:e.cx("title")},e.ptm("title")),m(e.header),17,Et)):T("",!0)]}),s("div",d({class:e.cx("icons")},e.ptm("icons")),[A(e.$slots,"icons"),e.toggleable?B((u(),p("button",d({key:0,id:r.id+"_header",type:"button",role:"button",class:e.cx("toggler"),"aria-label":o.buttonAriaLabel,"aria-controls":r.id+"_content","aria-expanded":!r.d_collapsed,onClick:t[0]||(t[0]=function(){return o.toggle&&o.toggle.apply(o,arguments)}),onKeydown:t[1]||(t[1]=function(){return o.onKeyDown&&o.onKeyDown.apply(o,arguments)})},he(he({},e.toggleButtonProps),e.ptm("toggler"))),[A(e.$slots,"togglericon",{collapsed:r.d_collapsed},function(){return[(u(),E(K(r.d_collapsed?"PlusIcon":"MinusIcon"),$e(De(e.ptm("togglericon"))),null,16))]})],16,Kt)),[[g]]):T("",!0)],16)],16),v(Oe,d({name:"p-toggleable-content"},e.ptm("transition")),{default:x(function(){return[B(s("div",d({id:r.id+"_content",class:e.cx("toggleablecontent"),role:"region","aria-labelledby":r.id+"_header"},e.ptm("toggleablecontent")),[s("div",d({class:e.cx("content")},e.ptm("content")),[A(e.$slots,"default")],16),e.$slots.footer?(u(),p("div",d({key:0,class:e.cx("footer")},e.ptm("footer")),[A(e.$slots,"footer")],16)):T("",!0)],16,Lt),[[U,!r.d_collapsed]])]}),_:3},16)],16)}xe.render=Ht;const jt={class:"mb-4"},Mt={class:"grid grid-cols-12 gap-4"},Vt={class:"col-span-6"},Nt={class:"card"},Ft={class:"m-0"},Rt={class:"col-span-6"},Wt=s("i",{class:"bx bx-plus text-16 align-middle ltr:mr-1 rtl:ml-1"},null,-1),qt={class:"grid grid-cols-12 gap-4"},zt={class:"col-span-6"},Ut=s("h5",null,"Basic Terms",-1),Zt={class:"p-4 bg-white"},Qt={class:"grid grid-cols-2 gap-x-8 gap-y-4"},Gt=s("div",{class:"font-bold text-gray-900"},"Tenant",-1),Yt={class:"text-sm text-gray-600"},Jt=s("div",{class:"font-bold text-gray-900"},"Landlord",-1),Xt={class:"text-xs text-gray-600"},ea=s("div",{class:"font-bold text-gray-600"},"Premises Address",-1),ta={class:"text-xs text-gray-600"},aa={class:"grid grid-cols-2 gap-x-8 gap-y-4"},na=s("div",{class:"font-bold text-gray-600"},"Lease Term",-1),sa={class:"text-xs text-gray-600"},oa=s("div",{class:"font-bold text-gray-600"},"Expiration Date",-1),ra={class:"text-xs text-gray-600"},ia=s("div",{class:"font-bold text-gray-600"},"Rentable Sq. Ft.",-1),la={class:"text-xs text-gray-600"},ca=s("h5",null,"Rent",-1),ua={class:"p-4 bg-white"},da=s("tr",null,[s("th",{scope:"col",class:"px-6 py-3"},"Start Date"),s("th",{scope:"col",class:"px-6 py-3"},"End Date"),s("th",{scope:"col",class:"px-6 py-3"},"Amount"),s("th",{scope:"col",class:"px-6 py-3"},"per SQFT")],-1),pa={class:"bg-white border-b border-gray-50 dark:bg-zinc-700/50 dark:border-zinc-600"},ha={scope:"row",class:"px-6 py-4 space-x-2"},fa={class:"px-6 py-4 text-gray-900"},va={class:"px-6 py-4 text-gray-900"},ma={class:"px-6 py-4 text-gray-900"},ga=s("h6",null,"Abatement",-1),ba=s("h6",null,"Base Year",-1),ya=s("h5",null,"Condition",-1),_a=s("div",{class:"p-4 bg-white space-y-4"},[s("div",null,[s("h6",null,"Condition"),s("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi sem metus, accumsan a dolor eget, posuere porttitor enim. Suspendisse varius porta semper. Quisque tincidunt ultrices metus, nec pretium lorem ultricies a. Sed tempus arcu gravida ligula mollis congue. Nulla vel egestas lorem. Sed ligula enim, mollis eget congue ut, molestie maximus ligula. Vestibulum tincidunt velit ut felis vestibulum, in lacinia nisi blandit. Vestibulum fermentum mi a ipsum ultricies vehicula.")]),s("div",null,[s("h6",null,"TI Allowance"),s("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi sem metus, accumsan a dolor eget, posuere porttitor enim. Suspendisse varius porta semper. Quisque tincidunt ultrices metus, nec pretium lorem ultricies a. Sed tempus arcu gravida ligula mollis congue. Nulla vel egestas lorem. Sed ligula enim, mollis eget congue ut, molestie maximus ligula. Vestibulum tincidunt velit ut felis vestibulum, in lacinia nisi blandit. Vestibulum fermentum mi a ipsum ultricies vehicula.")]),s("div",null,[s("h6",null,"Landlord Work"),s("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi sem metus, accumsan a dolor eget, posuere porttitor enim. Suspendisse varius porta semper. Quisque tincidunt ultrices metus, nec pretium lorem ultricies a. Sed tempus arcu gravida ligula mollis congue. Nulla vel egestas lorem. Sed ligula enim, mollis eget congue ut, molestie maximus ligula. Vestibulum tincidunt velit ut felis vestibulum, in lacinia nisi blandit. Vestibulum fermentum mi a ipsum ultricies vehicula.")])],-1),wa={class:"col-span-6"},Ca={class:""},xa={class:"flex max-h-[52rem] min-h-[32rem] mt-auto mb-auto rounded-lg shadow-md"},Pa={class:"flex flex-col w-full p-4 dark:border-l-gray-600"},Ta={key:1,class:"my-1 sm:my-1.5"},ka={class:"flex flex-col items-start"},Ia={class:"pt-4 dark:border-t-gray-600"},Ba={class:"relative"},Aa=["disabled"],Sa={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"absolute right-2 bottom-3 h-8 w-8 hover:cursor-pointer rounded-full p-1 bg-violet-500 text-white hover:opacity-80"},$a=s("path",{d:"M12 5l0 14"},null,-1),Da=s("path",{d:"M18 11l-6 -6"},null,-1),Oa=s("path",{d:"M6 11l6 -6"},null,-1),Ea=[$a,Da,Oa],Ka={"aria-hidden":"true",role:"status",class:"absolute text-white animate-spin right-2 bottom-3 h-8 w-8 hover:cursor-pointer rounded-full p-1 bg-violet-500 text-white hover:opacity-80",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},La=s("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"#E5E7EB"},null,-1),Ha=s("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentColor"},null,-1),ja=[La,Ha],Ma={key:0,class:"text-red-700",role:"alert"},Va={class:"block sm:inline"},Na={class:"p-6"},Fa=s("h2",{class:"text-lg font-medium text-gray-900"}," Are you sure you want to delete this chat? ",-1),Ra={class:"mt-6 flex justify-end"},Y=5,R=40,ln={__name:"Show",props:{asset:Object,associates:Array,lease:Object,chat:{type:Object,default:null},chats:{type:Object,default:()=>({})}},setup(e){const t=Ee(),a=Ke(()=>t.props.auth.user),n=Ye("https://wss.leasemate.ai");let r="",o="",g="",l;const c=k(R),I=k(""),S=k(null),w=k(!1),P=k(null),X=k(null),b=e,Q=()=>({chat_uuid:null,messages:[]}),Pe=le(b.chats),ee=le(b.chat),y=k(Q()),te=k(Pe);ee.value&&(y.value=ee.value);const j=k(null),ae=k(!1),Te=i=>{P.value=null,i.key==="Enter"&&i.shiftKey&&(c.value+=30),i.key==="Enter"&&!i.shiftKey&&!w.value&&(i.preventDefault(),se())},ke=i=>{P.value=null,i.target.value;const f=i.clipboardData.getData("text/plain"),h=f.split(`
`).length;f.includes(`
`)?c.value=Math.min(h*30,250):c.value=R},Ie=()=>{V.visit(route("assets.leases.show",[b.asset.id,b.lease.id]))},G=()=>{const i=X.value;i.scrollTop=i.scrollHeight},Be=()=>{j.value&&V.delete(route("assets.leases.chats.destroy-chat",[b.asset,b.lease,j.value.chat_uuid]),{preserveScroll:!0,onSuccess:i=>{i.props.flash.error?M():(y.value=Q(),ne(),te.value=i.props.chats,j.value=null,M(),ue.success("Chat deleted successfully!"))}})},M=()=>{ae.value=!1,j.value=null},ne=()=>{y.value.messages.unshift({from:"bot",message:"Hello! I am your personal assistant. How can I help you today?"})},Ae=()=>I.value.trim()===""?(P.value="Please enter a message",w.value=!1,S.value.focus(),!1):!0,se=async()=>{Ae()&&(P.value=null,c.value=R,F.post(route("assets.leases.chats.send-message",[b.asset.id,b.lease.id,y.value.chat_uuid??null]),{from:"user",message:I.value}).then(function(i){if(o=i.data.chat.chat_uuid,y.value.messages.push({from:"user",message:I.value}),!y.value.chat_uuid){const f=Q();f.last_message={message:"New Chat"},te.value.unshift(f)}oe(I.value),I.value="",c.value=R,ce(()=>{G()})}).catch(function(i){console.log(i),ue.error(i.message),w.value=!1,P.value=i.response?i.response.data.error:i.message}))},oe=async i=>{w.value=!0,P.value="";const f={question:i,socketIOClientId:r,chatSessionId:o,tenant_domain:t.props.tenant_domain,asset_id:b.asset.id,lease_id:b.lease.id};try{const h="https://wss.leasemate.ai/api/v1/chat";a.value.jwt_token||await re(),await F.post(h,f,{headers:{Authorization:"Bearer "+a.value.jwt_token}}).then(function($){F.post(route("assets.leases.chats.send-message",[b.asset.id,b.lease.id,o]),{from:"bot",message:$.data.text}).then(function(ie){y.value.chat_uuid||V.visit(route("assets.leases.chats.show",[b.asset.id,b.lease.id,o]),{preserveScroll:!0})}).catch(function(ie){w.value=!1,P.value=ie.response.data.error})}).catch(async function($){$.response.data.error_name=="TokenExpiredError"?(await re(),await oe(i)):(w.value=!1,P.value=$.message)})}catch(h){w.value=!1,P.value=h,console.error("Error sending query:",h)}},re=async()=>{await F.post(route("refresh-token")).then(function(i){a.value.jwt_token=i.data.token}).catch(function(i){console.log(i)})},Se=qe(ze);return Ue({credits:[],required:!0,allowMultiple:!0,allowRevert:!1,acceptedFileTypes:["application/pdf"]}),Le(()=>{S.value.focus(),Echo.private(`tenant-global-channel.${t.props.tenant_id}`).listen("FileStatusUpdate",i=>{V.reload({only:["leases"]})}),ce(()=>{G()}),ne(),n.on("connect",()=>{r=n.id}),n.on("start",()=>{}),n.on("token",i=>{if(l=y.value.messages[y.value.messages.length-1],g+=i,g.length>=Y){w.value=!1;let f=g.lastIndexOf(" ",Y);f===-1&&(f=Y);const h=g.slice(0,f+1);l&&(l.from=="user"?y.value.messages.push({from:"bot",message:h}):l.message+=h),G(),g=g.slice(f+1)}}),n.on("sourceDocuments",i=>{}),n.on("end",()=>{g.trim().length>0&&(l.message+=g),g=""})}),He(()=>{a.value&&Echo.leave(`tenant-global-channel.${t.props.tenant_id}`)}),(i,f)=>(u(),p(O,null,[v(D(je),{title:"Asset"}),v(Ne,null,{header:x(()=>[N(" Asset - "+m(e.asset.name),1)]),default:x(()=>[v(Ze,{asset:e.asset},null,8,["asset"]),v(Qe,{associates:e.associates},null,8,["associates"]),s("div",jt,[s("h3",null,m(e.lease.tenant_name),1),s("h4",null,m(e.lease.address),1)]),s("div",Mt,[s("div",Vt,[s("div",Nt,[v(D(xe),{header:"Upload Amendments",toggleable:"",collapsed:!0},{default:x(()=>[s("p",Ft,[v(D(Se),{name:"lease_amendment",ref:"pond","class-name":"my-file-upload","label-idle":"Amendment Drop or <span class='filepond--label-action'>Browse</span>"},null,512)])]),_:1})])]),s("div",Rt,[v(Ge,{class:"mb-4",onClick:Ie},{default:x(()=>[Wt,N(" Chat ")]),_:1})])]),s("div",qt,[s("div",zt,[v(D(ye),{scrollable:!0},{default:x(()=>[v(D(_e),{header:"Original Lease Abstract"},{default:x(()=>[Ut,s("div",Zt,[s("div",Qt,[s("div",null,[Gt,s("div",Yt,m(e.lease.extracted_data.lessee_tenant??"--"),1)]),s("div",null,[Jt,s("div",Xt,m(e.lease.extracted_data.lessor_landlord??"--"),1)]),s("div",null,[ea,s("div",ta,m(e.lease.extracted_data.premises_address??"--"),1)]),s("div",null,[s("div",aa,[s("div",null,[na,s("div",sa,m(e.lease.extracted_data.lease_term?e.lease.extracted_data.lease_term+" Months":"--"),1)]),s("div",null,[oa,s("div",ra,m(e.lease.extracted_data.expiration_date??"--"),1)])])]),s("div",null,[ia,s("div",la,m(i.filters.formatNumber(e.lease.extracted_data.rentable_square_feet)??"--"),1)])])]),ca,s("div",ua,[v(Fe,{class:"mt-8",data:e.lease.extracted_data.rent_schedule,columns:["Start Date","End Date","Amount","Frequency"]},{head:x(()=>[da]),body:x(()=>[(u(!0),p(O,null,z(e.lease.monthly_base_rent,h=>(u(),p("tr",pa,[s("th",ha,m(h.start_date),1),s("td",fa,m(h.end_date),1),s("td",va,m(i.filters.formatMoney(h.amount_total)),1),s("td",ma,m(i.filters.formatMoney(h.amount_per_square_foot)),1)]))),256))]),_:1},8,["data"]),ga,ba]),ya,_a]),_:1})]),_:1})]),s("div",wa,[s("div",Ca,[s("div",xa,[s("div",Pa,[s("div",{ref_key:"messagesPanel",ref:X,class:"flex-1 overflow-y-auto mb-4 space-y-3"},[y.value&&y.value.messages?(u(!0),p(O,{key:0},z(y.value.messages,(h,$)=>(u(),p("div",{key:$},[s("div",{class:W(["flex flex-row",{"justify-start ":h.from==="bot","justify-end":h.from==="user"}])},[s("div",{class:W(["flex flex-col break-words max-w-[90%] flex-shrink-0",{"items-start ":h.from==="bot","items-end":h.from==="user"}])},[s("div",{class:W(["message-bubble flex items-center px-3 py-2 h-auto",{"bg-gray-100 text-gray-700 rounded-2xl rounded-bl-none":h.from==="bot","bg-violet-500 text-white rounded-2xl rounded-br-none":h.from==="user"}])},[v(D(We),{source:h.message,breaks:!0},null,8,["source"])],2)],2)],2)]))),128)):T("",!0),w.value?(u(),p("div",Ta,[s("div",ka,[v(Re)])])):T("",!0)],512),s("div",Ia,[s("div",Ba,[B(s("textarea",{"onUpdate:modelValue":f[0]||(f[0]=h=>I.value=h),class:"min-h-[44px] rounded-lg pl-4 pr-12 py-2 w-full focus:outline-none focus:ring-1 focus:ring-neutral-300 border-2 border-neutral-200 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-50",style:Ve([{resize:"none"},{height:c.value+"px"}]),placeholder:"Type a message...",autocomplete:"off",rows:"1",ref_key:"messageField",ref:S,onKeydown:Te,onPaste:ke},null,36),[[Me,I.value]]),s("button",{disabled:w.value,onClick:se},[B((u(),p("svg",Sa,Ea,512)),[[U,!w.value]]),B((u(),p("svg",Ka,ja,512)),[[U,w.value]])],8,Aa)])]),P.value?(u(),p("div",Ma,[s("span",Va,m(P.value),1)])):T("",!0)])])])])]),v(Je,{show:ae.value,onClose:M},{default:x(()=>[s("div",Na,[Fa,s("div",Ra,[v(Xe,{onClick:M},{default:x(()=>[N(" Cancel ")]),_:1}),v(et,{class:"ml-3",onClick:f[1]||(f[1]=h=>Be(y.value))},{default:x(()=>[N(" Delete Chat ")]),_:1})])])]),_:1},8,["show"])]),_:1})],64))}};export{ln as default};
